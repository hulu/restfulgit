{"commits": {"090750eec2fe5f120ad1010fc2204d06fc3ca91e": {"committer": {"date": "2013-05-20T19:12:03Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-05-20T19:12:03Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/090750eec2fe5f120ad1010fc2204d06fc3ca91e/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/288a19807d25403221c3f5260f4c172ec820b621/", "sha": "288a19807d25403221c3f5260f4c172ec820b621"}, "sha": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/cff4955ef40cfce35efe282e196c840619c518f2/", "sha": "cff4955ef40cfce35efe282e196c840619c518f2"}], "message": "PEP-8 minor cleanup"}, "e2188037dfe456898919d76e975b6dcb610bc2f7": {"committer": {"date": "2013-04-03T06:32:44Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-04-03T06:32:35Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/e2188037dfe456898919d76e975b6dcb610bc2f7/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/6398b7d7b501764ad6d11d8693c5bde59cd0c1eb/", "sha": "6398b7d7b501764ad6d11d8693c5bde59cd0c1eb"}, "sha": "e2188037dfe456898919d76e975b6dcb610bc2f7", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/c04112733fe2db2cb2f179fca1a19365cf15fef5/", "sha": "c04112733fe2db2cb2f179fca1a19365cf15fef5"}], "message": "add support for raw file pulling"}, "0fcf9f751a7ce8013556baed71e4bcb4d5200c7f": {"committer": {"date": "2013-12-17T08:52:20Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-17T04:47:37Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/0fcf9f751a7ce8013556baed71e4bcb4d5200c7f/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3dcfb5ca10430a101113e7fb5b305db33a661d79/", "sha": "3dcfb5ca10430a101113e7fb5b305db33a661d79"}, "sha": "0fcf9f751a7ce8013556baed71e4bcb4d5200c7f", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/ada2aa81245fe3725b0380a61d8462a45b1f81b8/", "sha": "ada2aa81245fe3725b0380a61d8462a45b1f81b8"}], "message": "test get_tag() against GitHub output"}, "de3193cf411024485b559d7b078e21dad9155350": {"committer": {"date": "2013-09-13T03:41:38Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T19:42:47Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/de3193cf411024485b559d7b078e21dad9155350/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/bbbc5d9029c57b9f7af3fc94dba2d8feff9bff2f/", "sha": "bbbc5d9029c57b9f7af3fc94dba2d8feff9bff2f"}, "sha": "de3193cf411024485b559d7b078e21dad9155350", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/03eeb27c1c5fc91c99095daac8f737a71faf5fd0/", "sha": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0"}], "message": "consolidate multiple import statements from same module"}, "c7a21d3255d63d02a3b10330677f6912fedf9cf0": {"committer": {"date": "2013-11-06T03:17:12Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-11-06T03:02:01Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/c7a21d3255d63d02a3b10330677f6912fedf9cf0/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/0b5a2fc7f2ab7a087e55dfbb297714916b90d7ce/", "sha": "0b5a2fc7f2ab7a087e55dfbb297714916b90d7ce"}, "sha": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/b7a1adc403a0d186519bba43c63b394c15a0e953/", "sha": "b7a1adc403a0d186519bba43c63b394c15a0e953"}], "message": "add Cross-Origin Resource Sharing support; fixes #32"}, "2cc12933e21fff340b43ea7221d8d2f48e566445": {"committer": {"date": "2013-12-21T01:40:39Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-21T01:37:39Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/2cc12933e21fff340b43ea7221d8d2f48e566445/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/5773c19e0e05bc493a92ccd8dc36a0025f474040/", "sha": "5773c19e0e05bc493a92ccd8dc36a0025f474040"}, "sha": "2cc12933e21fff340b43ea7221d8d2f48e566445", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/cad2d1143185c99c33074524a3417c6389443a1e/", "sha": "cad2d1143185c99c33074524a3417c6389443a1e"}], "message": "added non-github api for retrieving tag by name /repos/{repo_key}/tags/{tag_name} (#59)"}, "57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa": {"committer": {"date": "2013-11-14T08:22:44Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-11-14T08:22:05Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/eb52b6657048e51ed9f4357d59a20caac5725a1d/", "sha": "eb52b6657048e51ed9f4357d59a20caac5725a1d"}, "sha": "57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/078a24f58eb297b7cfb04ab54d5b9607f193d04e/", "sha": "078a24f58eb297b7cfb04ab54d5b9607f193d04e"}], "message": "fix to CORS support; fix OPTIONS preflight handling"}, "c0156f8fec7f17e2007c651a2aed8c1a017455dc": {"committer": {"date": "2013-12-05T21:35:20Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-05T21:35:20Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/c0156f8fec7f17e2007c651a2aed8c1a017455dc/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/993d55f45c63b0c29b65e485e360a886051a7ad3/", "sha": "993d55f45c63b0c29b65e485e360a886051a7ad3"}, "sha": "c0156f8fec7f17e2007c651a2aed8c1a017455dc", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/f0be1cb9be2d871c8c5c8d2412995402cf687d73/", "sha": "f0be1cb9be2d871c8c5c8d2412995402cf687d73"}], "message": "fix pep8 complaints"}, "5152b6006378d623153791c9aa3e474433baeebd": {"committer": {"date": "2013-12-17T07:08:15Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-17T04:16:18Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/5152b6006378d623153791c9aa3e474433baeebd/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/c441a63607f519788e88ca24316a57bdbd52b5d2/", "sha": "c441a63607f519788e88ca24316a57bdbd52b5d2"}, "sha": "5152b6006378d623153791c9aa3e474433baeebd", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/ccac5e7a3311860c5c6c66f9d6a446673a695534/", "sha": "ccac5e7a3311860c5c6c66f9d6a446673a695534"}], "message": "fix /git/trees/ GitHub compatibility problems\n\nfix octal file mode output formatting\nsort tree entries"}, "f8c7ceac2e05b73f2cc85197cc79442565cc070b": {"committer": {"date": "2013-09-13T03:43:25Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T19:49:32Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/f8c7ceac2e05b73f2cc85197cc79442565cc070b/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/9dcfb311d6cef4ecc56e6beed1384af7309841fc/", "sha": "9dcfb311d6cef4ecc56e6beed1384af7309841fc"}, "sha": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/de3193cf411024485b559d7b078e21dad9155350/", "sha": "de3193cf411024485b559d7b078e21dad9155350"}], "message": "use dict instead of if-else chain"}, "34f85950f3fcc662338593bbd43ad3bebc8cbf22": {"committer": {"date": "2013-09-24T04:42:40Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "author": {"date": "2013-09-24T04:42:40Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "url": "http://localhost/repos/restfulgit/git/commits/34f85950f3fcc662338593bbd43ad3bebc8cbf22/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/029c2787239825668f3619eb02bf5a336720f5e9/", "sha": "029c2787239825668f3619eb02bf5a336720f5e9"}, "sha": "34f85950f3fcc662338593bbd43ad3bebc8cbf22", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/fadadc122ac7357816d6d57515c36ed8dddfadb5/", "sha": "fadadc122ac7357816d6d57515c36ed8dddfadb5"}], "message": "add PEP-263 encoding declaration"}, "a8e4af2d7f30492bfef34ccb1c2c167df54512ba": {"committer": {"date": "2013-12-10T03:59:40Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-10T03:32:32Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/a8e4af2d7f30492bfef34ccb1c2c167df54512ba/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/b08d1b792ecba9ebb06bc8f2dad5d0877a9a42ec/", "sha": "b08d1b792ecba9ebb06bc8f2dad5d0877a9a42ec"}, "sha": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/493431d90a21109290e4a8ab8978e523ec957531/", "sha": "493431d90a21109290e4a8ab8978e523ec957531"}], "message": "use JSON error pages; fixes #39"}, "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba": {"committer": {"date": "2013-12-13T03:31:21Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T03:31:21Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/93b6646b5db24f973fa54a1f0000132e042fa790/", "sha": "93b6646b5db24f973fa54a1f0000132e042fa790"}, "sha": "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/a8e4af2d7f30492bfef34ccb1c2c167df54512ba/", "sha": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba"}], "message": "refs endpoint should only return non-list on exact match"}, "bc7878acc87284e54cc7c628e10aed898135877e": {"committer": {"date": "2013-12-17T07:47:50Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-17T07:47:50Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/bc7878acc87284e54cc7c628e10aed898135877e/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/36c2fc0b8dbdc1b18708bec8e488025a920a5ece/", "sha": "36c2fc0b8dbdc1b18708bec8e488025a920a5ece"}, "sha": "bc7878acc87284e54cc7c628e10aed898135877e", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/2563905e17680fdd8c138c3e7f7d595f9fdcea7d/", "sha": "2563905e17680fdd8c138c3e7f7d595f9fdcea7d"}], "message": "per GitHub, all UTC (aka Z for Zulu Time) all the time"}, "cb7c0975451b3744212a3700920ae4be729fa22f": {"committer": {"date": "2013-12-21T00:07:07Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T09:52:19Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/cb7c0975451b3744212a3700920ae4be729fa22f/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/49a5d5efea5ce8e72c7db4571432d131935ec815/", "sha": "49a5d5efea5ce8e72c7db4571432d131935ec815"}, "sha": "cb7c0975451b3744212a3700920ae4be729fa22f", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/9a3e311add371ea47709587bae584d7b410b311a/", "sha": "9a3e311add371ea47709587bae584d7b410b311a"}], "message": "added github equivalent  /repos/:repo_key/tags API (#50)"}, "129458e24667a9c32db4cb1a0549e3554bff0965": {"committer": {"date": "2013-12-22T07:28:11Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-22T07:15:31Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/129458e24667a9c32db4cb1a0549e3554bff0965/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/399284a47d8dc40f4c98e5556ca13193223ef556/", "sha": "399284a47d8dc40f4c98e5556ca13193223ef556"}, "sha": "129458e24667a9c32db4cb1a0549e3554bff0965", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/62ad1fa1b826bf816e39fb822a8c88dce8fc4ec6/", "sha": "62ad1fa1b826bf816e39fb822a8c88dce8fc4ec6"}], "message": "add tests for binary blobs & fix name of key in blob JSON"}, "030c2a3b7aacc2b4e0d654a5d717880cc7df6495": {"committer": {"date": "2013-12-20T23:05:54Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T08:01:46Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/030c2a3b7aacc2b4e0d654a5d717880cc7df6495/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3ce97492976ba014accbf225f8b808a6202fb174/", "sha": "3ce97492976ba014accbf225f8b808a6202fb174"}, "sha": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/d8f44ff152dcf7e5581647bfa1f1f242c55b50b6/", "sha": "d8f44ff152dcf7e5581647bfa1f1f242c55b50b6"}], "message": "implement #48 & #53\n\nadded /repos/{repos_key}/branches (#48)\nadded /repos/{repo_key}/branches/{branch_name} (#53)\nincludes tests by @cvrebert"}, "04ba1b8e3c74628d91d137c53a5bd3aef73d6725": {"committer": {"date": "2013-11-08T19:22:09Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-11-05T03:41:34Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/04ba1b8e3c74628d91d137c53a5bd3aef73d6725/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/285bea2dc83aec534a0c393d64400df651bca00d/", "sha": "285bea2dc83aec534a0c393d64400df651bca00d"}, "sha": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/c7a21d3255d63d02a3b10330677f6912fedf9cf0/", "sha": "c7a21d3255d63d02a3b10330677f6912fedf9cf0"}], "message": "add /repos/ which lists all repo names; fixes #34"}, "19c504120a3656d9165a5b08dd2c15f53391cd54": {"committer": {"date": "2013-11-08T19:52:03Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-11-06T04:26:50Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/19c504120a3656d9165a5b08dd2c15f53391cd54/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/dddfe5b186ba4f6c296229b00999c04df2ae04ba/", "sha": "dddfe5b186ba4f6c296229b00999c04df2ae04ba"}, "sha": "19c504120a3656d9165a5b08dd2c15f53391cd54", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/04ba1b8e3c74628d91d137c53a5bd3aef73d6725/", "sha": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725"}], "message": "switch to /blob/-based raw file API; fixes #20"}, "3814a6420ba3f60f668cafae173f1d9bb4bbbb76": {"committer": {"date": "2013-05-20T22:47:47Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-05-20T22:47:47Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/3814a6420ba3f60f668cafae173f1d9bb4bbbb76/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/c9b3d01f2857cde1e5d3cb5637d7f3c7b4f98bdb/", "sha": "c9b3d01f2857cde1e5d3cb5637d7f3c7b4f98bdb"}, "sha": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/894488e4d5a951483ff4030149c79a8907e519d3/", "sha": "894488e4d5a951483ff4030149c79a8907e519d3"}], "message": "PEP-8 Line Length"}, "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4": {"committer": {"date": "2013-09-17T20:02:41Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T19:34:42Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/f9ddce5d07e6d174e391d2742c1be9bbf024d7b4/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/a833214924aaafde8544af1c1befb8e8485df6f5/", "sha": "a833214924aaafde8544af1c1befb8e8485df6f5"}, "sha": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/fff95c78da2d18030881d3e3d7c3733b5db46013/", "sha": "fff95c78da2d18030881d3e3d7c3733b5db46013"}], "message": "untangle nested comprehension by using intermediate vars"}, "7a5d593ef3d556437d4d031988835ebd20acad80": {"committer": {"date": "2013-12-20T22:03:49Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-10T09:41:23Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/7a5d593ef3d556437d4d031988835ebd20acad80/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/85697cb86a4d7464ab2723f6b5fc23cc5648af41/", "sha": "85697cb86a4d7464ab2723f6b5fc23cc5648af41"}, "sha": "7a5d593ef3d556437d4d031988835ebd20acad80", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/65cd39314430e43945c5427a40b1896801ad2950/", "sha": "65cd39314430e43945c5427a40b1896801ad2950"}], "message": "add support for fancier /repos/:repo_key/commits/ API (#40)"}, "13e9ff41ba4704d6ca91988f9216adeeee8c79b5": {"committer": {"date": "2013-12-30T20:01:35Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-23T04:16:14Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/13e9ff41ba4704d6ca91988f9216adeeee8c79b5/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/a611bc827047055a6b8e9cbf7ee2827767b27328/", "sha": "a611bc827047055a6b8e9cbf7ee2827767b27328"}, "sha": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/129458e24667a9c32db4cb1a0549e3554bff0965/", "sha": "129458e24667a9c32db4cb1a0549e3554bff0965"}], "message": "implement tarball & zipball downloads; fixes #62\n\nReference zipball from https://github.com/hulu/restfulgit/zipball/7da1a61e2f566cf3094c2fea4b18b111d2638a8f\nReference tarball from https://github.com/hulu/restfulgit/tarball/7da1a61e2f566cf3094c2fea4b18b111d2638a8f"}, "03eeb27c1c5fc91c99095daac8f737a71faf5fd0": {"committer": {"date": "2013-09-12T19:21:17Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-12T19:21:17Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/03eeb27c1c5fc91c99095daac8f737a71faf5fd0/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3c6cb9b534ac148ea0be24ccff6d1adc470358e5/", "sha": "3c6cb9b534ac148ea0be24ccff6d1adc470358e5"}, "sha": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/ef5b77d3348aea845a1e2784fd3c835b3f1ebd73/", "sha": "ef5b77d3348aea845a1e2784fd3c835b3f1ebd73"}], "message": "simplify get_commit_list() slightly by using itertools.islice()"}, "326d80cd68ec3413fe6eaca99c52c59ca428a0d0": {"committer": {"date": "2013-02-26T09:15:35Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-02-26T09:15:35Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/326d80cd68ec3413fe6eaca99c52c59ca428a0d0/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3f4b1282d80af3f8a51000993968897330635e4f/", "sha": "3f4b1282d80af3f8a51000993968897330635e4f"}, "sha": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/1f51b91ac383806df9d322ae67bbad3364f50811/", "sha": "1f51b91ac383806df9d322ae67bbad3364f50811"}], "message": "Now using a jsonify decorator which returns the correct content-type"}, "f0be1cb9be2d871c8c5c8d2412995402cf687d73": {"committer": {"date": "2013-12-05T20:36:58Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-05T01:42:37Z", "name": "Keith Ainsworth", "email": "keith.ainsworth@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/f0be1cb9be2d871c8c5c8d2412995402cf687d73/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/0251a3a895c4e4329a75374fa9c8cbd9936b37b0/", "sha": "0251a3a895c4e4329a75374fa9c8cbd9936b37b0"}, "sha": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/2fed2f555b4793a7aed49cc68e62bc48033ea009/", "sha": "2fed2f555b4793a7aed49cc68e62bc48033ea009"}], "message": "Allow for ?recursive=1 on tree view like github api; fixes #10"}, "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4": {"committer": {"date": "2013-12-21T01:57:14Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-21T01:57:14Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/c03c6bfccb2d2f744b15b3ad24aab022c4556bd4/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/35b550539151eddf4c3fbaee43ac1e977781c7af/", "sha": "35b550539151eddf4c3fbaee43ac1e977781c7af"}, "sha": "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/4a545494fa32b1a04d33fb1a8693a7c669ad5048/", "sha": "4a545494fa32b1a04d33fb1a8693a7c669ad5048"}], "message": "convert a couple of list comprehensions to generator expressions"}, "7d0952e78ce084a5a61a2653767854ac120609ce": {"committer": {"date": "2013-12-21T02:16:37Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "author": {"date": "2013-12-21T02:16:37Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "url": "http://localhost/repos/restfulgit/git/commits/7d0952e78ce084a5a61a2653767854ac120609ce/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/a0f134edc006df3cd4a59bd8a0328698c3d106c6/", "sha": "a0f134edc006df3cd4a59bd8a0328698c3d106c6"}, "sha": "7d0952e78ce084a5a61a2653767854ac120609ce", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/c03c6bfccb2d2f744b15b3ad24aab022c4556bd4/", "sha": "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4"}], "message": "have _get_commit_for_refspec() give better 404 err msg"}, "b7a1adc403a0d186519bba43c63b394c15a0e953": {"committer": {"date": "2013-11-06T02:13:29Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-11-06T02:13:29Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/b7a1adc403a0d186519bba43c63b394c15a0e953/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/471b91001970986203279fddbe88f7f2682e09cd/", "sha": "471b91001970986203279fddbe88f7f2682e09cd"}, "sha": "b7a1adc403a0d186519bba43c63b394c15a0e953", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/d02f1537f40b7481e683f3f17bf99322f57b3f53/", "sha": "d02f1537f40b7481e683f3f17bf99322f57b3f53"}], "message": "use application/octet-stream for unknown MIME type instead of Flask's default of text/html"}, "98b873f9d87b110a48628b8493de2cb0383eb391": {"committer": {"date": "2013-09-12T05:50:03Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T05:50:03Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/98b873f9d87b110a48628b8493de2cb0383eb391/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/66293915e552b338c9bc8fb7b27b89b5f729279a/", "sha": "66293915e552b338c9bc8fb7b27b89b5f729279a"}, "sha": "98b873f9d87b110a48628b8493de2cb0383eb391", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/5c8856d66edc88245c9d5a52e931633f61b8344c/", "sha": "5c8856d66edc88245c9d5a52e931633f61b8344c"}], "message": "resolves #2 moving to pygit2 v0.19.0"}, "b251edadeeccaff3537ede94cf3d0da920c751b7": {"committer": {"date": "2013-09-13T03:43:25Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-13T03:43:01Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/b251edadeeccaff3537ede94cf3d0da920c751b7/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/116c22650f80a954cd640902152a24b5c0ac6bbf/", "sha": "116c22650f80a954cd640902152a24b5c0ac6bbf"}, "sha": "b251edadeeccaff3537ede94cf3d0da920c751b7", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/f8c7ceac2e05b73f2cc85197cc79442565cc070b/", "sha": "f8c7ceac2e05b73f2cc85197cc79442565cc070b"}], "message": "rename mapping dict"}, "1f51b91ac383806df9d322ae67bbad3364f50811": {"committer": {"date": "2013-02-25T12:35:29Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-02-25T12:35:29Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/1f51b91ac383806df9d322ae67bbad3364f50811/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/1404e1766a3269f5a73b3d2ec8c81b7ea3ad6e09/", "sha": "1404e1766a3269f5a73b3d2ec8c81b7ea3ad6e09"}, "sha": "1f51b91ac383806df9d322ae67bbad3364f50811", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/ff6405b71273b5c2c50d5c33d5cf962af5390542/", "sha": "ff6405b71273b5c2c50d5c33d5cf962af5390542"}], "message": "Support submodule in tree-listings"}, "c92de24597eff312bbdd5a70059665a2e3000590": {"committer": {"date": "2013-04-21T11:02:58Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-04-21T11:02:58Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/c92de24597eff312bbdd5a70059665a2e3000590/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/330f63e3edd3a52f1c633d8e006afb74ca0db490/", "sha": "330f63e3edd3a52f1c633d8e006afb74ca0db490"}, "sha": "c92de24597eff312bbdd5a70059665a2e3000590", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/dfc21013bb7188bb4752a57d792f04451d6d687e/", "sha": "dfc21013bb7188bb4752a57d792f04451d6d687e"}], "message": "Added README + route index"}, "65cd39314430e43945c5427a40b1896801ad2950": {"committer": {"date": "2013-12-20T21:58:49Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-16T22:57:47Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/65cd39314430e43945c5427a40b1896801ad2950/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/d62df38f72cdbe0e7d142256aada28397b4a46f0/", "sha": "d62df38f72cdbe0e7d142256aada28397b4a46f0"}, "sha": "65cd39314430e43945c5427a40b1896801ad2950", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/e081ca0e2b17720f9829c40e57a7b2b841b65395/", "sha": "e081ca0e2b17720f9829c40e57a7b2b841b65395"}], "message": "add stub /repos/:repo_key/contents/:path impl so that /repos/:repo_key/commits/:refspec output can match"}, "07b9bf1540305153ceeb4519a50b588c35a35464": {"committer": {"date": "2013-02-24T13:25:46Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-02-24T13:25:46Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/07b9bf1540305153ceeb4519a50b588c35a35464/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/6ca22167185c31554aa6157306e68dfd612d6345/", "sha": "6ca22167185c31554aa6157306e68dfd612d6345"}, "sha": "07b9bf1540305153ceeb4519a50b588c35a35464", "parents": [], "message": "Initial support for read-only REST api for Git plumbing"}, "e081ca0e2b17720f9829c40e57a7b2b841b65395": {"committer": {"date": "2013-12-20T21:28:33Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-17T03:44:09Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/e081ca0e2b17720f9829c40e57a7b2b841b65395/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/e44e3d0c1879064a161797fd2c9a537af2f40100/", "sha": "e44e3d0c1879064a161797fd2c9a537af2f40100"}, "sha": "e081ca0e2b17720f9829c40e57a7b2b841b65395", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/01f15ee7e8045056a8314501281e66e3b7771667/", "sha": "01f15ee7e8045056a8314501281e66e3b7771667"}], "message": "compare /git/commits against GitHub's output\n\napply .rstrip() to commit messages to match GitHub"}, "ada2aa81245fe3725b0380a61d8462a45b1f81b8": {"committer": {"date": "2013-12-17T08:32:20Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T07:07:42Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/ada2aa81245fe3725b0380a61d8462a45b1f81b8/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/1c464c47004d75115e0479117773e442e74dd53e/", "sha": "1c464c47004d75115e0479117773e442e74dd53e"}, "sha": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/c3da9ea4e57a4218b544d1f587ef4c54c35b587f/", "sha": "c3da9ea4e57a4218b544d1f587ef4c54c35b587f"}], "message": "Replace /repos/{repo_key}/description with /repos/{repo_key}, and make /repos/ list same (#47)"}, "a1bd25210d697c0d3b1d89aeade6ee6f19583894": {"committer": {"date": "2013-09-28T01:00:17Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-28T01:00:17Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/a1bd25210d697c0d3b1d89aeade6ee6f19583894/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/e8d9b713f006a5278387c41bdc08f4c82d5ef62c/", "sha": "e8d9b713f006a5278387c41bdc08f4c82d5ef62c"}, "sha": "a1bd25210d697c0d3b1d89aeade6ee6f19583894", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/947d0b70962dfd7c7edb3376db193916a0fb4e03/", "sha": "947d0b70962dfd7c7edb3376db193916a0fb4e03"}], "message": "increase test coverage"}, "6a818c8507df47b26ae66ff4cf07cc287337df04": {"committer": {"date": "2013-10-06T19:30:17Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-10-05T05:09:27Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/6a818c8507df47b26ae66ff4cf07cc287337df04/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3669cbf17eb067ba9997183d9ec14dc921a59bc5/", "sha": "3669cbf17eb067ba9997183d9ec14dc921a59bc5"}, "sha": "6a818c8507df47b26ae66ff4cf07cc287337df04", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/17d2495d1ca5d0eca292eae8d1e8128a76a80039/", "sha": "17d2495d1ca5d0eca292eae8d1e8128a76a80039"}], "message": "optionally use libmagic for better MIME-type guessing; fixes #4"}, "c3da9ea4e57a4218b544d1f587ef4c54c35b587f": {"committer": {"date": "2013-12-17T08:03:11Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-14T05:51:29Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/c3da9ea4e57a4218b544d1f587ef4c54c35b587f/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/d8cd50c12b8f5a24ead906b3e383fba3c5f6b8b2/", "sha": "d8cd50c12b8f5a24ead906b3e383fba3c5f6b8b2"}, "sha": "c3da9ea4e57a4218b544d1f587ef4c54c35b587f", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/bc7878acc87284e54cc7c628e10aed898135877e/", "sha": "bc7878acc87284e54cc7c628e10aed898135877e"}], "message": "change repo_key/blob to repo_key/raw (#60)"}, "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579": {"committer": {"date": "2013-09-12T06:16:37Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T04:26:31Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/ba3f032dbd2ead6a6610f3bf3b66f05cb628f579/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/a6fb2a953ab675c8da0f3776faa160101ac301f9/", "sha": "a6fb2a953ab675c8da0f3776faa160101ac301f9"}, "sha": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/98b873f9d87b110a48628b8493de2cb0383eb391/", "sha": "98b873f9d87b110a48628b8493de2cb0383eb391"}], "message": "use a custom Werkzeug converter for commit SHAs; fixes #1"}, "9d37eea76c436a69ede95a9a8653536a1819b391": {"committer": {"date": "2013-09-18T03:14:02Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-18T03:14:02Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/9d37eea76c436a69ede95a9a8653536a1819b391/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/16c9fcdc7528d6291f20837aa8eaf1096e054b38/", "sha": "16c9fcdc7528d6291f20837aa8eaf1096e054b38"}, "sha": "9d37eea76c436a69ede95a9a8653536a1819b391", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/fadadc122ac7357816d6d57515c36ed8dddfadb5/", "sha": "fadadc122ac7357816d6d57515c36ed8dddfadb5"}], "message": "specify exception types in all except clauses; fixes #16"}, "47e6c0e7704f7e1f07c3142b518c3e79c605615c": {"committer": {"date": "2013-12-21T00:50:19Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-16T19:40:56Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/47e6c0e7704f7e1f07c3142b518c3e79c605615c/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/4391e9d3bf6e729bd336b2c2f1f7a13faf14cce5/", "sha": "4391e9d3bf6e729bd336b2c2f1f7a13faf14cce5"}, "sha": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/59ab369547b31850c78897290a1e1413a93c5a8a/", "sha": "59ab369547b31850c78897290a1e1413a93c5a8a"}], "message": "enhancements to /repos/ API (#47)\n\nalso add test of repo info endpoint's default description detection"}, "ffefa5a12812d65ba4f55adeaa5bbd8131ea0c69": {"committer": {"date": "2013-09-26T07:46:16Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-26T07:46:16Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/ffefa5a12812d65ba4f55adeaa5bbd8131ea0c69/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/60859aa5e7ef3ba15006bd33f6ace219a3049ea5/", "sha": "60859aa5e7ef3ba15006bd33f6ace219a3049ea5"}, "sha": "ffefa5a12812d65ba4f55adeaa5bbd8131ea0c69", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/1f6787c238ef12413dca5305b8254c26c299718f/", "sha": "1f6787c238ef12413dca5305b8254c26c299718f"}], "message": "improve config loading error reporting & squelch last W0702"}, "6c90fe7020c7f71d1ed12153f45701502650a5cc": {"committer": {"date": "2013-12-21T02:40:32Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-10T06:25:41Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/6c90fe7020c7f71d1ed12153f45701502650a5cc/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/eda53667be5848ba1f08afc6a32b6159397612f0/", "sha": "eda53667be5848ba1f08afc6a32b6159397612f0"}, "sha": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/b392aaa0fb6016bc2a3d7225614aa3794cf26f90/", "sha": "b392aaa0fb6016bc2a3d7225614aa3794cf26f90"}], "message": "draft of a Blame API\n\nCurrently disabled/broken due to a bug in the underlying pygit2 API.\nThe bug has been fixed, but they haven't yet made a new release w/ the fix.\nSee https://github.com/libgit2/pygit2/pull/297"}, "12fa071e3ae86d1ec573f8c6514dd4b8608185a7": {"committer": {"date": "2013-12-20T23:54:38Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T10:40:51Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/12fa071e3ae86d1ec573f8c6514dd4b8608185a7/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/080090c0531d2d2eb436655e29a4406553f6f1cb/", "sha": "080090c0531d2d2eb436655e29a4406553f6f1cb"}, "sha": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/030c2a3b7aacc2b4e0d654a5d717880cc7df6495/", "sha": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495"}], "message": "add support for retrieving .diff (#56)"}, "6e9692de7bea62e8188323d79bea77d5901582c4": {"committer": {"date": "2013-12-21T10:33:24Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "author": {"date": "2013-12-21T10:33:24Z", "name": "Chris Rebert", "email": "github@rebertia.com"}, "url": "http://localhost/repos/restfulgit/git/commits/6e9692de7bea62e8188323d79bea77d5901582c4/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/7e48d224bb5f39b3b780feabd4c3a42965bf488e/", "sha": "7e48d224bb5f39b3b780feabd4c3a42965bf488e"}, "sha": "6e9692de7bea62e8188323d79bea77d5901582c4", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/6c90fe7020c7f71d1ed12153f45701502650a5cc/", "sha": "6c90fe7020c7f71d1ed12153f45701502650a5cc"}], "message": "mark the Blame endpoint as a RestfulGit extension to the GitHub API"}, "1f6787c238ef12413dca5305b8254c26c299718f": {"committer": {"date": "2013-09-26T07:33:36Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-26T07:04:03Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/1f6787c238ef12413dca5305b8254c26c299718f/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/2755f95be4f1c8eeab47c13814f7033037e127fb/", "sha": "2755f95be4f1c8eeab47c13814f7033037e127fb"}, "sha": "1f6787c238ef12413dca5305b8254c26c299718f", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/470bd0fd3690710cb017cce1bc033be6a28e839c/", "sha": "470bd0fd3690710cb017cce1bc033be6a28e839c"}], "message": "finish dealing with pylint"}, "2563905e17680fdd8c138c3e7f7d595f9fdcea7d": {"committer": {"date": "2013-12-17T07:32:39Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-13T11:07:00Z", "name": "Rajiv Makhijani", "email": "rajiv@blue-tech.org"}, "url": "http://localhost/repos/restfulgit/git/commits/2563905e17680fdd8c138c3e7f7d595f9fdcea7d/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/017f3414763ca3dea964994ccf624d29ce1cd4f9/", "sha": "017f3414763ca3dea964994ccf624d29ce1cd4f9"}, "sha": "2563905e17680fdd8c138c3e7f7d595f9fdcea7d", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/62a343a1b3f0f66ee96b29043b8a697ec3331b4e/", "sha": "62a343a1b3f0f66ee96b29043b8a697ec3331b4e"}], "message": "Fix bug in _get_commit_for_refspec (not all tags are tag objects, only annotated tags are)"}, "ebaa594a5b689d1cb552e15753bcd109f60b0a10": {"committer": {"date": "2013-10-06T23:44:52Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-10-05T04:15:22Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/ebaa594a5b689d1cb552e15753bcd109f60b0a10/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/16507999f5b925211a48e3c97b242577b14bfc71/", "sha": "16507999f5b925211a48e3c97b242577b14bfc71"}, "sha": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/caccc35a6f5d8e9b9a7e23d4a2ad60f4b4155739/", "sha": "caccc35a6f5d8e9b9a7e23d4a2ad60f4b4155739"}], "message": "use a blueprint to enhance embedability/reuseability/modularity; fixes #25\n\nURL converter registration inspired by http://blog.adrianschreyer.eu/post/adding-custom-url-map-converters-to-flask-blueprint-objects"}, "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4": {"committer": {"date": "2013-11-14T05:37:34Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-10-15T08:31:17Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/1968d88d70f04f338f2ba54a41d6e0ce06ff65c4/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/9be94026e838e05403c2330d1dc25f92d0c22190/", "sha": "9be94026e838e05403c2330d1dc25f92d0c22190"}, "sha": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/4b17c749b1e90fe70c939badef41b90146b42ed7/", "sha": "4b17c749b1e90fe70c939badef41b90146b42ed7"}], "message": "use Flask's config system"}, "75cb7c9120868b44dc3c7cc2575b2349413cfa11": {"committer": {"date": "2013-09-27T23:07:20Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-24T03:28:13Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/75cb7c9120868b44dc3c7cc2575b2349413cfa11/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/1f0c6a9a077a510e961770c4421c55ea98cd9000/", "sha": "1f0c6a9a077a510e961770c4421c55ea98cd9000"}, "sha": "75cb7c9120868b44dc3c7cc2575b2349413cfa11", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/942da33a4b26c8a841a7d2b6c99995c18d7b7e1f/", "sha": "942da33a4b26c8a841a7d2b6c99995c18d7b7e1f"}], "message": "add repo description endpoint; fixes #21"}, "b392aaa0fb6016bc2a3d7225614aa3794cf26f90": {"committer": {"date": "2013-12-21T02:26:37Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-12-17T00:17:46Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/b392aaa0fb6016bc2a3d7225614aa3794cf26f90/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/5658129bcfb6aca02c0aa9258d777c1c19c24a75/", "sha": "5658129bcfb6aca02c0aa9258d777c1c19c24a75"}, "sha": "b392aaa0fb6016bc2a3d7225614aa3794cf26f90", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/7d0952e78ce084a5a61a2653767854ac120609ce/", "sha": "7d0952e78ce084a5a61a2653767854ac120609ce"}], "message": "extension: add get_repo_tag URLs in tag listings\n\nI think this was in @rajivm's original, but it got separated in all the rebasing/merging/cherry-picking"}, "470bd0fd3690710cb017cce1bc033be6a28e839c": {"committer": {"date": "2013-09-26T07:33:36Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "author": {"date": "2013-09-26T07:03:07Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/470bd0fd3690710cb017cce1bc033be6a28e839c/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/68fcc3cecb72a9d04f575f3040a6bb5d79cf813e/", "sha": "68fcc3cecb72a9d04f575f3040a6bb5d79cf813e"}, "sha": "470bd0fd3690710cb017cce1bc033be6a28e839c", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/9d884dcb134c00383398128de013312e10b090ce/", "sha": "9d884dcb134c00383398128de013312e10b090ce"}], "message": "rename f -> func; make pylint happier"}, "fff95c78da2d18030881d3e3d7c3733b5db46013": {"committer": {"date": "2013-09-13T04:14:08Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-13T04:14:08Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/fff95c78da2d18030881d3e3d7c3733b5db46013/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/477004e95a09b023ba47705a2e8fb63ae7185037/", "sha": "477004e95a09b023ba47705a2e8fb63ae7185037"}, "sha": "fff95c78da2d18030881d3e3d7c3733b5db46013", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/b251edadeeccaff3537ede94cf3d0da920c751b7/", "sha": "b251edadeeccaff3537ede94cf3d0da920c751b7"}], "message": "add tag support resolves #8"}, "b0dccd7fd8ec2b1953a6cda735dca5211811cc12": {"committer": {"date": "2013-09-12T06:17:15Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-09-12T05:36:32Z", "name": "Chris Rebert", "email": "chris.rebert@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/b0dccd7fd8ec2b1953a6cda735dca5211811cc12/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/3059fe88bacf1c3538152b6e74aa637979c5d254/", "sha": "3059fe88bacf1c3538152b6e74aa637979c5d254"}, "sha": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/ba3f032dbd2ead6a6610f3bf3b66f05cb628f579/", "sha": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579"}], "message": "handle malformed or nonexistent start_sha"}, "ff6405b71273b5c2c50d5c33d5cf962af5390542": {"committer": {"date": "2013-02-25T11:52:30Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "author": {"date": "2013-02-25T11:52:30Z", "name": "Rajiv Makhijani", "email": "rajiv@hulu.com"}, "url": "http://localhost/repos/restfulgit/git/commits/ff6405b71273b5c2c50d5c33d5cf962af5390542/", "tree": {"url": "http://localhost/repos/restfulgit/git/trees/863012da07a12d7d9e2bc899058acaebd8b45c5f/", "sha": "863012da07a12d7d9e2bc899058acaebd8b45c5f"}, "sha": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "parents": [{"url": "http://localhost/repos/restfulgit/git/commits/07b9bf1540305153ceeb4519a50b588c35a35464/", "sha": "07b9bf1540305153ceeb4519a50b588c35a35464"}], "message": "Added support for retrieving a commit log"}}, "lines": [{"commit": "34f85950f3fcc662338593bbd43ad3bebc8cbf22", "line": "# coding=utf-8", "origPath": "gitapi.py", "lineNum": 1}, {"commit": "ffefa5a12812d65ba4f55adeaa5bbd8131ea0c69", "line": "from __future__ import print_function", "origPath": "gitapi.py", "lineNum": 2}, {"commit": "ffefa5a12812d65ba4f55adeaa5bbd8131ea0c69", "line": "", "origPath": "gitapi.py", "lineNum": 3}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "from flask import Flask, url_for, request, Response, current_app, Blueprint, safe_join, send_from_directory, make_response, send_file", "origPath": "restfulgit/__init__.py", "lineNum": 4}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "from werkzeug.exceptions import NotFound, BadRequest, HTTPException, default_exceptions", "origPath": "restfulgit/__init__.py", "lineNum": 5}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "from werkzeug.routing import BaseConverter", "origPath": "gitapi.py", "lineNum": 6}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 7}, {"commit": "de3193cf411024485b559d7b078e21dad9155350", "line": "from pygit2 import (Repository,", "origPath": "gitapi.py", "lineNum": 8}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "                    GIT_OBJ_COMMIT, GIT_OBJ_TREE, GIT_OBJ_BLOB, GIT_OBJ_TAG,", "origPath": "gitapi.py", "lineNum": 9}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                    GIT_REF_SYMBOLIC, GIT_SORT_TIME,", "origPath": "restfulgit/__init__.py", "lineNum": 10}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                    GIT_BLAME_TRACK_COPIES_SAME_COMMIT_MOVES, GIT_BLAME_TRACK_COPIES_SAME_COMMIT_COPIES)", "origPath": "restfulgit/__init__.py", "lineNum": 11}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "GIT_MODE_SUBMODULE = int('0160000', 8)", "origPath": "api.py", "lineNum": 12}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 13}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "from datetime import datetime, tzinfo, timedelta", "origPath": "api.py", "lineNum": 14}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "from base64 import b64encode", "origPath": "api.py", "lineNum": 15}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "from itertools import islice, ifilter, izip, count", "origPath": "restfulgit/__init__.py", "lineNum": 16}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "from tempfile import mkstemp as _make_temp_file_handle", "origPath": "restfulgit/__init__.py", "lineNum": 17}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "import json", "origPath": "api.py", "lineNum": 18}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "import os", "origPath": "gitapi.py", "lineNum": 19}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "import functools", "origPath": "api.py", "lineNum": 20}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "import re", "origPath": "restfulgit/__init__.py", "lineNum": 21}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "import tarfile", "origPath": "restfulgit/__init__.py", "lineNum": 22}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "import zipfile", "origPath": "restfulgit/__init__.py", "lineNum": 23}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 24}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "# Detect whether we can actually use compression for archive files", "origPath": "restfulgit/__init__.py", "lineNum": 25}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "try:", "origPath": "restfulgit/__init__.py", "lineNum": 26}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    import zlib", "origPath": "restfulgit/__init__.py", "lineNum": 27}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "except ImportError:", "origPath": "restfulgit/__init__.py", "lineNum": 28}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    ZLIB_SUPPORT = False", "origPath": "restfulgit/__init__.py", "lineNum": 29}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    TARFILE_WRITE_MODE = 'w'", "origPath": "restfulgit/__init__.py", "lineNum": 30}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    ZIP_COMPRESSION_METHOD = zipfile.ZIP_STORED", "origPath": "restfulgit/__init__.py", "lineNum": 31}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "else:", "origPath": "restfulgit/__init__.py", "lineNum": 32}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    del zlib", "origPath": "restfulgit/__init__.py", "lineNum": 33}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    ZLIB_SUPPORT = True", "origPath": "restfulgit/__init__.py", "lineNum": 34}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    TARFILE_WRITE_MODE = 'w:gz'", "origPath": "restfulgit/__init__.py", "lineNum": 35}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    ZIP_COMPRESSION_METHOD = zipfile.ZIP_DEFLATED", "origPath": "restfulgit/__init__.py", "lineNum": 36}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 37}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "try:", "origPath": "restfulgit/__init__.py", "lineNum": 38}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    from cStringIO import StringIO", "origPath": "restfulgit/__init__.py", "lineNum": 39}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "except ImportError:", "origPath": "restfulgit/__init__.py", "lineNum": 40}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    from StringIO import StringIO", "origPath": "restfulgit/__init__.py", "lineNum": 41}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "", "origPath": "api.py", "lineNum": 42}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "# Optionally use better libmagic-based MIME-type guessing", "origPath": "gitapi.py", "lineNum": 43}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "try:", "origPath": "gitapi.py", "lineNum": 44}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    import magic as libmagic", "origPath": "gitapi.py", "lineNum": 45}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "except ImportError:", "origPath": "gitapi.py", "lineNum": 46}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    import mimetypes", "origPath": "gitapi.py", "lineNum": 47}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "", "origPath": "gitapi.py", "lineNum": 48}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    def guess_mime_type(filename, content):  # pylint: disable=W0613", "origPath": "gitapi.py", "lineNum": 49}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "        (mime_type, encoding) = mimetypes.guess_type(filename)  # pylint: disable=W0612", "origPath": "gitapi.py", "lineNum": 50}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "        return mime_type", "origPath": "gitapi.py", "lineNum": 51}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "else:", "origPath": "gitapi.py", "lineNum": 52}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    import atexit", "origPath": "gitapi.py", "lineNum": 53}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    MAGIC = libmagic.Magic(flags=libmagic.MAGIC_MIME_TYPE)", "origPath": "gitapi.py", "lineNum": 54}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    atexit.register(MAGIC.close)", "origPath": "gitapi.py", "lineNum": 55}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "", "origPath": "gitapi.py", "lineNum": 56}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    def guess_mime_type(filename, content):  # pylint: disable=W0613", "origPath": "gitapi.py", "lineNum": 57}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "        return MAGIC.id_buffer(content)", "origPath": "gitapi.py", "lineNum": 58}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "", "origPath": "gitapi.py", "lineNum": 59}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "", "origPath": "gitapi.py", "lineNum": 60}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "class DefaultConfig(object):", "origPath": "restfulgit/__init__.py", "lineNum": 61}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_DEFAULT_COMMIT_LIST_LIMIT = 50", "origPath": "restfulgit/__init__.py", "lineNum": 62}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_ENABLE_CORS = False", "origPath": "restfulgit/__init__.py", "lineNum": 63}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_CORS_ALLOWED_HEADERS = []", "origPath": "restfulgit/__init__.py", "lineNum": 64}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_CORS_ALLOW_CREDENTIALS = False", "origPath": "restfulgit/__init__.py", "lineNum": 65}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_CORS_MAX_AGE = timedelta(days=30)", "origPath": "restfulgit/__init__.py", "lineNum": 66}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    RESTFULGIT_CORS_ALLOWED_ORIGIN = \"*\"", "origPath": "restfulgit/__init__.py", "lineNum": 67}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 68}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 69}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "app = Flask(__name__)", "origPath": "api.py", "lineNum": 70}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "app.config.from_object(DefaultConfig)", "origPath": "restfulgit/__init__.py", "lineNum": 71}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "LOADED_CONFIG = app.config.from_envvar('RESTFULGIT_CONFIG', silent=True)", "origPath": "restfulgit/__init__.py", "lineNum": 72}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "LOADED_CONFIG = LOADED_CONFIG or app.config.from_pyfile('/etc/restfulgit.conf.py', silent=True)", "origPath": "restfulgit/__init__.py", "lineNum": 73}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "if not LOADED_CONFIG:", "origPath": "restfulgit/__init__.py", "lineNum": 74}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    raise SystemExit(\"Failed to load any RestfulGit configuration!\")", "origPath": "restfulgit/__init__.py", "lineNum": 75}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "restfulgit = Blueprint('restfulgit', __name__)  # pylint: disable=C0103", "origPath": "gitapi.py", "lineNum": 76}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "", "origPath": "api.py", "lineNum": 77}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 78}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "### PLUMBING RETRIEVE OBJECTS ###", "origPath": "restfulgit/__init__.py", "lineNum": 79}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 80}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _get_repo(repo_key):", "origPath": "api.py", "lineNum": 81}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    path = safe_join(current_app.config['RESTFULGIT_REPO_BASE_PATH'], repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 82}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    try:", "origPath": "api.py", "lineNum": 83}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        return Repository(path)", "origPath": "api.py", "lineNum": 84}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    except KeyError:", "origPath": "api.py", "lineNum": 85}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        raise NotFound(\"repository not found\")", "origPath": "api.py", "lineNum": 86}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 87}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 88}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "def _get_commit(repo, sha):", "origPath": "api.py", "lineNum": 89}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    try:", "origPath": "api.py", "lineNum": 90}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        commit = repo[unicode(sha)]", "origPath": "api.py", "lineNum": 91}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    except KeyError:", "origPath": "api.py", "lineNum": 92}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        raise NotFound(\"commit not found\")", "origPath": "api.py", "lineNum": 93}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    if commit.type != GIT_OBJ_COMMIT:", "origPath": "api.py", "lineNum": 94}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        raise NotFound(\"object not a commit\")", "origPath": "api.py", "lineNum": 95}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    return commit", "origPath": "api.py", "lineNum": 96}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 97}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 98}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "def _get_tree(repo, sha):", "origPath": "api.py", "lineNum": 99}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    try:", "origPath": "api.py", "lineNum": 100}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "        tree = repo[unicode(sha)]", "origPath": "api.py", "lineNum": 101}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    except KeyError:", "origPath": "api.py", "lineNum": 102}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "        raise NotFound(\"tree not found\")", "origPath": "api.py", "lineNum": 103}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    if tree.type != GIT_OBJ_TREE:", "origPath": "api.py", "lineNum": 104}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        raise NotFound(\"object not a tree\")", "origPath": "api.py", "lineNum": 105}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    return tree", "origPath": "api.py", "lineNum": 106}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 107}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 108}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "def _get_tag(repo, sha):", "origPath": "gitapi.py", "lineNum": 109}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    try:", "origPath": "gitapi.py", "lineNum": 110}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        tag = repo[unicode(sha)]", "origPath": "gitapi.py", "lineNum": 111}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    except KeyError:", "origPath": "gitapi.py", "lineNum": 112}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        raise NotFound(\"tag not found\")", "origPath": "gitapi.py", "lineNum": 113}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    if tag.type != GIT_OBJ_TAG:", "origPath": "gitapi.py", "lineNum": 114}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        raise NotFound(\"object not a tag\")", "origPath": "gitapi.py", "lineNum": 115}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    return tag", "origPath": "gitapi.py", "lineNum": 116}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 117}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 118}, {"commit": "98b873f9d87b110a48628b8493de2cb0383eb391", "line": "def _get_object_from_path(repo, tree, path):", "origPath": "gitapi.py", "lineNum": 119}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    path_segments = path.split(\"/\")", "origPath": "api.py", "lineNum": 120}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 121}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    ctree = tree", "origPath": "api.py", "lineNum": 122}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    for path_seg in path_segments:", "origPath": "api.py", "lineNum": 123}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "        if ctree.type != GIT_OBJ_TREE:", "origPath": "api.py", "lineNum": 124}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "            raise NotFound(\"invalid path\")", "origPath": "api.py", "lineNum": 125}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "        try:", "origPath": "api.py", "lineNum": 126}, {"commit": "98b873f9d87b110a48628b8493de2cb0383eb391", "line": "            ctree = repo[ctree[path_seg].oid]", "origPath": "gitapi.py", "lineNum": 127}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "        except KeyError:", "origPath": "api.py", "lineNum": 128}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "            raise NotFound(\"invalid path\")", "origPath": "api.py", "lineNum": 129}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    return ctree", "origPath": "api.py", "lineNum": 130}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 131}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 132}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "def _get_raw_file_contents(repo, tree, path):", "origPath": "restfulgit/__init__.py", "lineNum": 133}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    git_obj = _get_object_from_path(repo, tree, path)", "origPath": "restfulgit/__init__.py", "lineNum": 134}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    if git_obj.type != GIT_OBJ_BLOB:", "origPath": "restfulgit/__init__.py", "lineNum": 135}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        raise BadRequest(\"path resolved to non-blob object\")", "origPath": "restfulgit/__init__.py", "lineNum": 136}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    return git_obj.data", "origPath": "restfulgit/__init__.py", "lineNum": 137}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 138}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 139}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "def _lookup_ref(repo, ref_name):", "origPath": "api.py", "lineNum": 140}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    try:", "origPath": "api.py", "lineNum": 141}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        return repo.lookup_reference(ref_name)", "origPath": "api.py", "lineNum": 142}, {"commit": "9d37eea76c436a69ede95a9a8653536a1819b391", "line": "    except (ValueError, KeyError):", "origPath": "gitapi.py", "lineNum": 143}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        if \"/\" in ref_name and not ref_name.startswith(\"refs/\"):", "origPath": "api.py", "lineNum": 144}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            ref_name = \"refs/\" + ref_name", "origPath": "api.py", "lineNum": 145}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        else:", "origPath": "api.py", "lineNum": 146}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            ref_name = \"refs/heads/\" + ref_name", "origPath": "api.py", "lineNum": 147}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 148}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        try:", "origPath": "api.py", "lineNum": 149}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            return repo.lookup_reference(ref_name)", "origPath": "api.py", "lineNum": 150}, {"commit": "9d37eea76c436a69ede95a9a8653536a1819b391", "line": "        except (ValueError, KeyError):", "origPath": "gitapi.py", "lineNum": 151}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            return None", "origPath": "api.py", "lineNum": 152}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 153}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 154}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "#### PORCELAIN RETRIEVE OBJECTS ####", "origPath": "restfulgit/__init__.py", "lineNum": 155}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 156}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 157}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "def _get_branch(repo, branch_name):", "origPath": "restfulgit/__init__.py", "lineNum": 158}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    branch = repo.lookup_branch(branch_name)", "origPath": "restfulgit/__init__.py", "lineNum": 159}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    if branch is None:", "origPath": "restfulgit/__init__.py", "lineNum": 160}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        raise NotFound(\"branch not found\")", "origPath": "restfulgit/__init__.py", "lineNum": 161}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    return branch", "origPath": "restfulgit/__init__.py", "lineNum": 162}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 163}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 164}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "def _get_commit_for_refspec(repo, branch_or_tag_or_sha):", "origPath": "gitapi.py", "lineNum": 165}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    # Precedence order GitHub uses (& that we copy):", "origPath": "gitapi.py", "lineNum": 166}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    # 1. Branch  2. Tag  3. Commit SHA", "origPath": "gitapi.py", "lineNum": 167}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    commit_sha = None", "origPath": "gitapi.py", "lineNum": 168}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    # branch?", "origPath": "gitapi.py", "lineNum": 169}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    branch_ref = _lookup_ref(repo, branch_or_tag_or_sha)", "origPath": "gitapi.py", "lineNum": 170}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    if branch_ref is not None:", "origPath": "gitapi.py", "lineNum": 171}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        commit_sha = branch_ref.resolve().target.hex", "origPath": "gitapi.py", "lineNum": 172}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    # tag?", "origPath": "gitapi.py", "lineNum": 173}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    if commit_sha is None:", "origPath": "gitapi.py", "lineNum": 174}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        ref_to_tag = _lookup_ref(repo, \"tags/\" + branch_or_tag_or_sha)", "origPath": "gitapi.py", "lineNum": 175}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        if ref_to_tag is not None:", "origPath": "gitapi.py", "lineNum": 176}, {"commit": "2563905e17680fdd8c138c3e7f7d595f9fdcea7d", "line": "            commit_sha = ref_to_tag.get_object().hex", "origPath": "restfulgit/__init__.py", "lineNum": 177}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    # commit?", "origPath": "gitapi.py", "lineNum": 178}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    if commit_sha is None:", "origPath": "gitapi.py", "lineNum": 179}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        commit_sha = branch_or_tag_or_sha", "origPath": "gitapi.py", "lineNum": 180}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    try:", "origPath": "gitapi.py", "lineNum": 181}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        return _get_commit(repo, commit_sha)", "origPath": "gitapi.py", "lineNum": 182}, {"commit": "7d0952e78ce084a5a61a2653767854ac120609ce", "line": "    except (ValueError, NotFound):", "origPath": "restfulgit/__init__.py", "lineNum": 183}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "        raise NotFound(\"no such branch, tag, or commit SHA\")", "origPath": "gitapi.py", "lineNum": 184}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "", "origPath": "gitapi.py", "lineNum": 185}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "", "origPath": "gitapi.py", "lineNum": 186}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _get_diff(repo, commit):", "origPath": "restfulgit/__init__.py", "lineNum": 187}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    if commit.parents:", "origPath": "restfulgit/__init__.py", "lineNum": 188}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        diff = repo.diff(commit.parents[0], commit)", "origPath": "restfulgit/__init__.py", "lineNum": 189}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        diff.find_similar()", "origPath": "restfulgit/__init__.py", "lineNum": 190}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "    else:  # NOTE: RestfulGit extension; GitHub gives a 404 in this case", "origPath": "restfulgit/__init__.py", "lineNum": 191}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        diff = commit.tree.diff_to_tree(swap=True)", "origPath": "restfulgit/__init__.py", "lineNum": 192}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return diff", "origPath": "restfulgit/__init__.py", "lineNum": 193}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 194}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 195}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _get_patches(diff):", "origPath": "restfulgit/__init__.py", "lineNum": 196}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return [patch for patch in diff]", "origPath": "restfulgit/__init__.py", "lineNum": 197}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 198}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 199}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "SPLIT_PATCH_TXT_RE = re.compile(r'^\\+\\+\\+\\ b\\/(.*?)\\n(@@.*?)(?=\\n^diff|\\n\\Z)', re.M | re.S)", "origPath": "restfulgit/__init__.py", "lineNum": 200}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 201}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 202}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _get_patches_txt(diff):", "origPath": "restfulgit/__init__.py", "lineNum": 203}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    matches = re.findall(SPLIT_PATCH_TXT_RE, diff.patch)", "origPath": "restfulgit/__init__.py", "lineNum": 204}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return dict(m for m in matches)", "origPath": "restfulgit/__init__.py", "lineNum": 205}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 206}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 207}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "DEFAULT_GIT_DESCRIPTION = \"Unnamed repository; edit this file 'description' to name the repository.\\n\"", "origPath": "restfulgit/__init__.py", "lineNum": 208}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 209}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 210}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "def _get_repo_description(repo_key):", "origPath": "restfulgit/__init__.py", "lineNum": 211}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    relative_paths = (", "origPath": "restfulgit/__init__.py", "lineNum": 212}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        os.path.join(repo_key, 'description'),", "origPath": "restfulgit/__init__.py", "lineNum": 213}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        os.path.join(repo_key, '.git', 'description'),", "origPath": "restfulgit/__init__.py", "lineNum": 214}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    )", "origPath": "restfulgit/__init__.py", "lineNum": 215}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    extant_relative_paths = (", "origPath": "restfulgit/__init__.py", "lineNum": 216}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        relative_path", "origPath": "restfulgit/__init__.py", "lineNum": 217}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        for relative_path in relative_paths", "origPath": "restfulgit/__init__.py", "lineNum": 218}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        if os.path.isfile(safe_join(current_app.config['RESTFULGIT_REPO_BASE_PATH'], relative_path))", "origPath": "restfulgit/__init__.py", "lineNum": 219}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    )", "origPath": "restfulgit/__init__.py", "lineNum": 220}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    extant_relative_path = next(extant_relative_paths, None)", "origPath": "restfulgit/__init__.py", "lineNum": 221}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    if extant_relative_path is None:", "origPath": "restfulgit/__init__.py", "lineNum": 222}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        return None", "origPath": "restfulgit/__init__.py", "lineNum": 223}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    with open(os.path.join(current_app.config['RESTFULGIT_REPO_BASE_PATH'], extant_relative_path), 'r') as content_file:", "origPath": "restfulgit/__init__.py", "lineNum": 224}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        description = content_file.read()", "origPath": "restfulgit/__init__.py", "lineNum": 225}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        if description == DEFAULT_GIT_DESCRIPTION:", "origPath": "restfulgit/__init__.py", "lineNum": 226}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "            description = None", "origPath": "restfulgit/__init__.py", "lineNum": 227}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        return description", "origPath": "restfulgit/__init__.py", "lineNum": 228}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 229}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 230}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "#### PLUMBING OBJECT CONVERTERS ####", "origPath": "restfulgit/__init__.py", "lineNum": 231}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 232}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 233}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "def _convert_repo(repo_key):", "origPath": "restfulgit/__init__.py", "lineNum": 234}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    description = _get_repo_description(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 235}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    return {", "origPath": "restfulgit/__init__.py", "lineNum": 236}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        \"name\": repo_key,", "origPath": "restfulgit/__init__.py", "lineNum": 237}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"full_name\": repo_key,", "origPath": "restfulgit/__init__.py", "lineNum": 238}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "        \"description\": description,", "origPath": "restfulgit/__init__.py", "lineNum": 239}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        \"url\": url_for('.get_repo', _external=True, repo_key=repo_key),", "origPath": "restfulgit/__init__.py", "lineNum": 240}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"branches_url\": (url_for('.get_branches', _external=True, repo_key=repo_key).rstrip('/') + '{/branch}'),", "origPath": "restfulgit/__init__.py", "lineNum": 241}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"blobs_url\": (url_for('.get_blob', _external=True, repo_key=repo_key, sha='').rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 242}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"commits_url\": (url_for('.get_repos_commit', _external=True, repo_key=repo_key, branch_or_tag_or_sha='').rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 243}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"git_commits_url\": (url_for('.get_commit', _external=True, repo_key=repo_key, sha='').rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 244}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"git_refs_url\": (url_for('.get_refs', _external=True, repo_key=repo_key).rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 245}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"git_tags_url\": (url_for('.get_tag', _external=True, repo_key=repo_key, sha='').rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 246}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"tags_url\": url_for('.get_tags', _external=True, repo_key=repo_key),", "origPath": "restfulgit/__init__.py", "lineNum": 247}, {"commit": "47e6c0e7704f7e1f07c3142b518c3e79c605615c", "line": "        \"trees_url\": (url_for('.get_tree', _external=True, repo_key=repo_key, sha='').rstrip('/') + '{/sha}'),", "origPath": "restfulgit/__init__.py", "lineNum": 248}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 249}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 250}, {"commit": "0fcf9f751a7ce8013556baed71e4bcb4d5200c7f", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 251}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _convert_signature(sig):", "origPath": "api.py", "lineNum": 252}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return {", "origPath": "api.py", "lineNum": 253}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        \"name\": sig.name,", "origPath": "api.py", "lineNum": 254}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        \"email\": sig.email,", "origPath": "api.py", "lineNum": 255}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        \"date\": datetime.fromtimestamp(sig.time, FixedOffset(sig.offset))", "origPath": "api.py", "lineNum": 256}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    }", "origPath": "api.py", "lineNum": 257}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 258}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 259}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _convert_commit(repo_key, commit, porcelain=False):", "origPath": "restfulgit/__init__.py", "lineNum": 260}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    if porcelain:", "origPath": "restfulgit/__init__.py", "lineNum": 261}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        def commit_url_for(sha):", "origPath": "restfulgit/__init__.py", "lineNum": 262}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            return url_for('.get_repos_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 263}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           repo_key=repo_key, branch_or_tag_or_sha=sha)", "origPath": "restfulgit/__init__.py", "lineNum": 264}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    else:", "origPath": "restfulgit/__init__.py", "lineNum": 265}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        def commit_url_for(sha):", "origPath": "restfulgit/__init__.py", "lineNum": 266}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            return url_for('.get_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 267}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           repo_key=repo_key, sha=sha)", "origPath": "restfulgit/__init__.py", "lineNum": 268}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 269}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return {", "origPath": "api.py", "lineNum": 270}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        \"url\": url_for('.get_commit', _external=True,", "origPath": "gitapi.py", "lineNum": 271}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                       repo_key=repo_key, sha=commit.hex),", "origPath": "api.py", "lineNum": 272}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"sha\": commit.hex,", "origPath": "api.py", "lineNum": 273}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"author\": _convert_signature(commit.author),", "origPath": "api.py", "lineNum": 274}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"committer\": _convert_signature(commit.committer),", "origPath": "api.py", "lineNum": 275}, {"commit": "e081ca0e2b17720f9829c40e57a7b2b841b65395", "line": "        \"message\": commit.message.rstrip(),", "origPath": "restfulgit/__init__.py", "lineNum": 276}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        \"tree\": {", "origPath": "api.py", "lineNum": 277}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "            \"sha\": commit.tree.hex,", "origPath": "api.py", "lineNum": 278}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "            \"url\": url_for('.get_tree', _external=True,", "origPath": "gitapi.py", "lineNum": 279}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                           repo_key=repo_key, sha=commit.tree.hex),", "origPath": "api.py", "lineNum": 280}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        },", "origPath": "api.py", "lineNum": 281}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        \"parents\": [{", "origPath": "api.py", "lineNum": 282}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "            \"sha\": c.hex,", "origPath": "api.py", "lineNum": 283}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            \"url\": commit_url_for(c.hex),", "origPath": "restfulgit/__init__.py", "lineNum": 284}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        } for c in commit.parents]", "origPath": "api.py", "lineNum": 285}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    }", "origPath": "api.py", "lineNum": 286}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 287}, {"commit": "c0156f8fec7f17e2007c651a2aed8c1a017455dc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 288}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "GIT_STATUS_TO_NAME = {", "origPath": "restfulgit/__init__.py", "lineNum": 289}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    'M': 'modified',", "origPath": "restfulgit/__init__.py", "lineNum": 290}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    'A': 'added',", "origPath": "restfulgit/__init__.py", "lineNum": 291}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    'R': 'renamed',", "origPath": "restfulgit/__init__.py", "lineNum": 292}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    'D': 'removed',", "origPath": "restfulgit/__init__.py", "lineNum": 293}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "}", "origPath": "restfulgit/__init__.py", "lineNum": 294}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 295}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 296}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _convert_patch(repo_key, commit, patch, patches_txt):", "origPath": "restfulgit/__init__.py", "lineNum": 297}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    deleted = patch.status == 'D'", "origPath": "restfulgit/__init__.py", "lineNum": 298}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    commit_sha = (commit.hex if not deleted else commit.parents[0].hex)", "origPath": "restfulgit/__init__.py", "lineNum": 299}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    result = {", "origPath": "restfulgit/__init__.py", "lineNum": 300}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"sha\": patch.new_oid if not deleted else patch.old_oid,", "origPath": "restfulgit/__init__.py", "lineNum": 301}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"status\": GIT_STATUS_TO_NAME[patch.status],", "origPath": "restfulgit/__init__.py", "lineNum": 302}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"filename\": patch.new_file_path,", "origPath": "restfulgit/__init__.py", "lineNum": 303}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"additions\": patch.additions,", "origPath": "restfulgit/__init__.py", "lineNum": 304}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"deletions\": patch.deletions,", "origPath": "restfulgit/__init__.py", "lineNum": 305}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"changes\": patch.additions + patch.deletions,", "origPath": "restfulgit/__init__.py", "lineNum": 306}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"raw_url\": url_for('.get_raw',", "origPath": "restfulgit/__init__.py", "lineNum": 307}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 308}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           repo_key=repo_key,", "origPath": "restfulgit/__init__.py", "lineNum": 309}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           branch_or_tag_or_sha=commit_sha,", "origPath": "restfulgit/__init__.py", "lineNum": 310}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           file_path=patch.new_file_path),", "origPath": "restfulgit/__init__.py", "lineNum": 311}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"contents_url\": url_for('.get_contents',", "origPath": "restfulgit/__init__.py", "lineNum": 312}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                                _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 313}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                                repo_key=repo_key,", "origPath": "restfulgit/__init__.py", "lineNum": 314}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                                file_path=patch.new_file_path,", "origPath": "restfulgit/__init__.py", "lineNum": 315}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                                ref=commit_sha),", "origPath": "restfulgit/__init__.py", "lineNum": 316}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 317}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    if patch.new_file_path in patches_txt:", "origPath": "restfulgit/__init__.py", "lineNum": 318}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        result['patch'] = patches_txt[patch.new_file_path]", "origPath": "restfulgit/__init__.py", "lineNum": 319}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return result", "origPath": "restfulgit/__init__.py", "lineNum": 320}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 321}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 322}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def _repos_convert_commit(repo_key, repo, commit, include_diff=False):", "origPath": "restfulgit/__init__.py", "lineNum": 323}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    plain_commit_json = _convert_commit(repo_key, commit, porcelain=True)", "origPath": "restfulgit/__init__.py", "lineNum": 324}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    result = {", "origPath": "restfulgit/__init__.py", "lineNum": 325}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"commit\": plain_commit_json,", "origPath": "restfulgit/__init__.py", "lineNum": 326}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"sha\": plain_commit_json['sha'],", "origPath": "restfulgit/__init__.py", "lineNum": 327}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"author\": plain_commit_json['author'],", "origPath": "restfulgit/__init__.py", "lineNum": 328}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"committer\": plain_commit_json['committer'],", "origPath": "restfulgit/__init__.py", "lineNum": 329}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"url\": url_for('.get_repos_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 330}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                       repo_key=repo_key, branch_or_tag_or_sha=commit.hex),", "origPath": "restfulgit/__init__.py", "lineNum": 331}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        \"parents\": [{", "origPath": "restfulgit/__init__.py", "lineNum": 332}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            \"sha\": c.hex,", "origPath": "restfulgit/__init__.py", "lineNum": 333}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            \"url\": url_for('.get_repos_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 334}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                           repo_key=repo_key, branch_or_tag_or_sha=c.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 335}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        } for c in commit.parents],", "origPath": "restfulgit/__init__.py", "lineNum": 336}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 337}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    if include_diff:", "origPath": "restfulgit/__init__.py", "lineNum": 338}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        diff = _get_diff(repo, commit)", "origPath": "restfulgit/__init__.py", "lineNum": 339}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        patches = _get_patches(diff)", "origPath": "restfulgit/__init__.py", "lineNum": 340}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        patches_txt = _get_patches_txt(diff)", "origPath": "restfulgit/__init__.py", "lineNum": 341}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        patches_additions = sum(patch.additions for patch in patches)", "origPath": "restfulgit/__init__.py", "lineNum": 342}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        patches_deletions = sum(patch.deletions for patch in patches)", "origPath": "restfulgit/__init__.py", "lineNum": 343}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        result.update({", "origPath": "restfulgit/__init__.py", "lineNum": 344}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            \"stats\": {", "origPath": "restfulgit/__init__.py", "lineNum": 345}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                \"additions\": patches_additions,", "origPath": "restfulgit/__init__.py", "lineNum": 346}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                \"deletions\": patches_deletions,", "origPath": "restfulgit/__init__.py", "lineNum": 347}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "                \"total\": patches_additions + patches_deletions,", "origPath": "restfulgit/__init__.py", "lineNum": 348}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            },", "origPath": "restfulgit/__init__.py", "lineNum": 349}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "            \"files\": [_convert_patch(repo_key, commit, patch, patches_txt) for patch in patches],", "origPath": "restfulgit/__init__.py", "lineNum": 350}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "        })", "origPath": "restfulgit/__init__.py", "lineNum": 351}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return result", "origPath": "restfulgit/__init__.py", "lineNum": 352}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 353}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 354}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "def _tree_entries(repo_key, repo, tree, recursive=False, path=''):", "origPath": "restfulgit/__init__.py", "lineNum": 355}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    entry_list = []", "origPath": "api.py", "lineNum": 356}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    for entry in tree:", "origPath": "api.py", "lineNum": 357}, {"commit": "1f51b91ac383806df9d322ae67bbad3364f50811", "line": "        if entry.filemode == GIT_MODE_SUBMODULE:", "origPath": "api.py", "lineNum": 358}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "            entry_data = {", "origPath": "restfulgit/__init__.py", "lineNum": 359}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                \"path\": entry.name,", "origPath": "restfulgit/__init__.py", "lineNum": 360}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                \"sha\": entry.hex,", "origPath": "restfulgit/__init__.py", "lineNum": 361}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                \"type\": \"submodule\",", "origPath": "restfulgit/__init__.py", "lineNum": 362}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "            }", "origPath": "restfulgit/__init__.py", "lineNum": 363}, {"commit": "1f51b91ac383806df9d322ae67bbad3364f50811", "line": "        else:", "origPath": "api.py", "lineNum": 364}, {"commit": "98b873f9d87b110a48628b8493de2cb0383eb391", "line": "            obj = repo[entry.oid]", "origPath": "gitapi.py", "lineNum": 365}, {"commit": "1f51b91ac383806df9d322ae67bbad3364f50811", "line": "            if obj.type == GIT_OBJ_BLOB:", "origPath": "api.py", "lineNum": 366}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                entry_data = {", "origPath": "restfulgit/__init__.py", "lineNum": 367}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"path\": '%s%s' % (path, entry.name),", "origPath": "restfulgit/__init__.py", "lineNum": 368}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"sha\": entry.hex,", "origPath": "restfulgit/__init__.py", "lineNum": 369}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"type\": \"blob\",", "origPath": "restfulgit/__init__.py", "lineNum": 370}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"size\": obj.size,", "origPath": "restfulgit/__init__.py", "lineNum": 371}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"url\": url_for('.get_blob', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 372}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                                   repo_key=repo_key, sha=entry.hex),", "origPath": "restfulgit/__init__.py", "lineNum": 373}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                }", "origPath": "restfulgit/__init__.py", "lineNum": 374}, {"commit": "1f51b91ac383806df9d322ae67bbad3364f50811", "line": "            elif obj.type == GIT_OBJ_TREE:", "origPath": "api.py", "lineNum": 375}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                if recursive:", "origPath": "restfulgit/__init__.py", "lineNum": 376}, {"commit": "c0156f8fec7f17e2007c651a2aed8c1a017455dc", "line": "                    entry_list += _tree_entries(repo_key, repo, obj, True, '%s%s/' % (path, entry.name))", "origPath": "restfulgit/__init__.py", "lineNum": 377}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                entry_data = {", "origPath": "restfulgit/__init__.py", "lineNum": 378}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"path\": \"%s%s\" % (path, entry.name),", "origPath": "restfulgit/__init__.py", "lineNum": 379}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"sha\": entry.hex,", "origPath": "restfulgit/__init__.py", "lineNum": 380}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"type\": \"tree\",", "origPath": "restfulgit/__init__.py", "lineNum": 381}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                    \"url\": url_for('.get_tree', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 382}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                                   repo_key=repo_key, sha=entry.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 383}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "                }", "origPath": "restfulgit/__init__.py", "lineNum": 384}, {"commit": "5152b6006378d623153791c9aa3e474433baeebd", "line": "        entry_data['mode'] = oct(entry.filemode)[1:].zfill(6)  # 6 octal digits without single leading base-indicating 0", "origPath": "restfulgit/__init__.py", "lineNum": 385}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        entry_list.append(entry_data)", "origPath": "api.py", "lineNum": 386}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "    return entry_list", "origPath": "restfulgit/__init__.py", "lineNum": 387}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 388}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 389}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "def _convert_tree(repo_key, repo, tree, recursive=False):", "origPath": "restfulgit/__init__.py", "lineNum": 390}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "    entry_list = _tree_entries(repo_key, repo, tree, recursive=recursive)", "origPath": "restfulgit/__init__.py", "lineNum": 391}, {"commit": "5152b6006378d623153791c9aa3e474433baeebd", "line": "    entry_list.sort(key=lambda entry: entry['path'])", "origPath": "restfulgit/__init__.py", "lineNum": 392}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return {", "origPath": "api.py", "lineNum": 393}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        \"url\": url_for('.get_tree', _external=True,", "origPath": "gitapi.py", "lineNum": 394}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                       repo_key=repo_key, sha=tree.hex),", "origPath": "api.py", "lineNum": 395}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"sha\": tree.hex,", "origPath": "api.py", "lineNum": 396}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"tree\": entry_list,", "origPath": "api.py", "lineNum": 397}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    }", "origPath": "api.py", "lineNum": 398}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 399}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 400}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "def _convert_tag(repo_key, repo, tag):", "origPath": "gitapi.py", "lineNum": 401}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    target_type_name = GIT_OBJ_TYPE_TO_NAME.get(repo[tag.target].type)", "origPath": "gitapi.py", "lineNum": 402}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    return {", "origPath": "gitapi.py", "lineNum": 403}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        \"url\": url_for('.get_tag', _external=True,", "origPath": "gitapi.py", "lineNum": 404}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "                       repo_key=repo_key, sha=tag.hex),", "origPath": "gitapi.py", "lineNum": 405}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        \"sha\": tag.hex,", "origPath": "gitapi.py", "lineNum": 406}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        \"tag\": tag.name,", "origPath": "gitapi.py", "lineNum": 407}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        \"tagger\": _convert_signature(tag.tagger),", "origPath": "gitapi.py", "lineNum": 408}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        \"message\": tag.message,", "origPath": "gitapi.py", "lineNum": 409}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        \"object\": {", "origPath": "gitapi.py", "lineNum": 410}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "            \"type\": target_type_name,", "origPath": "gitapi.py", "lineNum": 411}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "            \"sha\": tag.target.hex,", "origPath": "gitapi.py", "lineNum": 412}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "            \"url\": url_for('.get_' + target_type_name, _external=True,", "origPath": "gitapi.py", "lineNum": 413}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "                           repo_key=repo_key, sha=tag.target.hex),", "origPath": "gitapi.py", "lineNum": 414}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "        },", "origPath": "gitapi.py", "lineNum": 415}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    }", "origPath": "gitapi.py", "lineNum": 416}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 417}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 418}, {"commit": "b251edadeeccaff3537ede94cf3d0da920c751b7", "line": "GIT_OBJ_TYPE_TO_NAME = {", "origPath": "gitapi.py", "lineNum": 419}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "    GIT_OBJ_COMMIT: 'commit',", "origPath": "gitapi.py", "lineNum": 420}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "    GIT_OBJ_TREE: 'tree',", "origPath": "gitapi.py", "lineNum": 421}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "    GIT_OBJ_BLOB: 'blob',", "origPath": "gitapi.py", "lineNum": 422}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    GIT_OBJ_TAG: 'tag',", "origPath": "gitapi.py", "lineNum": 423}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "}", "origPath": "gitapi.py", "lineNum": 424}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "", "origPath": "gitapi.py", "lineNum": 425}, {"commit": "f8c7ceac2e05b73f2cc85197cc79442565cc070b", "line": "", "origPath": "gitapi.py", "lineNum": 426}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _linkobj_for_gitobj(repo_key, obj, include_type=False):", "origPath": "api.py", "lineNum": 427}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    data = {}", "origPath": "api.py", "lineNum": 428}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    data['sha'] = obj.hex", "origPath": "api.py", "lineNum": 429}, {"commit": "b251edadeeccaff3537ede94cf3d0da920c751b7", "line": "    obj_type = GIT_OBJ_TYPE_TO_NAME.get(obj.type)", "origPath": "gitapi.py", "lineNum": 430}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    if obj_type is not None:", "origPath": "api.py", "lineNum": 431}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        data['url'] = url_for('.get_' + obj_type, _external=True,", "origPath": "gitapi.py", "lineNum": 432}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                              repo_key=repo_key, sha=obj.hex)", "origPath": "api.py", "lineNum": 433}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    if include_type:", "origPath": "api.py", "lineNum": 434}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        data['type'] = obj_type", "origPath": "api.py", "lineNum": 435}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return data", "origPath": "api.py", "lineNum": 436}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 437}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 438}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _encode_blob_data(data):", "origPath": "api.py", "lineNum": 439}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    try:", "origPath": "api.py", "lineNum": 440}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        return 'utf-8', data.decode('utf-8')", "origPath": "api.py", "lineNum": 441}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    except UnicodeDecodeError:", "origPath": "api.py", "lineNum": 442}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        return 'base64', b64encode(data)", "origPath": "api.py", "lineNum": 443}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 444}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 445}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _convert_blob(repo_key, blob):", "origPath": "api.py", "lineNum": 446}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    encoding, data = _encode_blob_data(blob.data)", "origPath": "api.py", "lineNum": 447}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return {", "origPath": "api.py", "lineNum": 448}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        \"url\": url_for('.get_blob', _external=True,", "origPath": "gitapi.py", "lineNum": 449}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                       repo_key=repo_key, sha=blob.hex),", "origPath": "api.py", "lineNum": 450}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"sha\": blob.hex,", "origPath": "api.py", "lineNum": 451}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"size\": blob.size,", "origPath": "api.py", "lineNum": 452}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"encoding\": encoding,", "origPath": "api.py", "lineNum": 453}, {"commit": "129458e24667a9c32db4cb1a0549e3554bff0965", "line": "        \"content\": data,", "origPath": "restfulgit/__init__.py", "lineNum": 454}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    }", "origPath": "api.py", "lineNum": 455}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 456}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 457}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def _convert_ref(repo_key, ref, obj):", "origPath": "api.py", "lineNum": 458}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    return {", "origPath": "api.py", "lineNum": 459}, {"commit": "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba", "line": "        \"url\": url_for('.get_refs', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 460}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                       repo_key=repo_key, ref_path=ref.name[5:]),  # [5:] to cut off the redundant refs/", "origPath": "api.py", "lineNum": 461}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"ref\": ref.name,", "origPath": "api.py", "lineNum": 462}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        \"object\": _linkobj_for_gitobj(repo_key, obj, include_type=True),", "origPath": "api.py", "lineNum": 463}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    }", "origPath": "api.py", "lineNum": 464}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 465}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 466}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "#### PORCELAIN DATA CONVERTERS ####", "origPath": "restfulgit/__init__.py", "lineNum": 467}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 468}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 469}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "def _convert_branch(repo_key, repo, branch):", "origPath": "restfulgit/__init__.py", "lineNum": 470}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    url = url_for('.get_branch', _external=True, repo_key=repo_key, branch_name=branch.branch_name)", "origPath": "restfulgit/__init__.py", "lineNum": 471}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    return {", "origPath": "restfulgit/__init__.py", "lineNum": 472}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        \"name\": branch.branch_name,", "origPath": "restfulgit/__init__.py", "lineNum": 473}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        \"commit\": _repos_convert_commit(repo_key, repo, branch.get_object()),", "origPath": "restfulgit/__init__.py", "lineNum": 474}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        \"url\": url,", "origPath": "restfulgit/__init__.py", "lineNum": 475}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        \"_links\": {", "origPath": "restfulgit/__init__.py", "lineNum": 476}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            # For some reason GitHub API for branch does the self-link like this", "origPath": "restfulgit/__init__.py", "lineNum": 477}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            # instead of with \"url\" as everywhere else.", "origPath": "restfulgit/__init__.py", "lineNum": 478}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            \"self\": url,", "origPath": "restfulgit/__init__.py", "lineNum": 479}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        }", "origPath": "restfulgit/__init__.py", "lineNum": 480}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 481}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 482}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 483}, {"commit": "470bd0fd3690710cb017cce1bc033be6a28e839c", "line": "def jsonify(func):", "origPath": "gitapi.py", "lineNum": 484}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "    def dthandler(obj):", "origPath": "api.py", "lineNum": 485}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        if hasattr(obj, 'isoformat'):", "origPath": "api.py", "lineNum": 486}, {"commit": "bc7878acc87284e54cc7c628e10aed898135877e", "line": "            return obj.astimezone(UTC).replace(tzinfo=None).isoformat() + 'Z'", "origPath": "restfulgit/__init__.py", "lineNum": 487}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 488}, {"commit": "470bd0fd3690710cb017cce1bc033be6a28e839c", "line": "    @functools.wraps(func)", "origPath": "gitapi.py", "lineNum": 489}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "    def wrapped(*args, **kwargs):", "origPath": "api.py", "lineNum": 490}, {"commit": "470bd0fd3690710cb017cce1bc033be6a28e839c", "line": "        return Response(json.dumps(func(*args, **kwargs), default=dthandler),", "origPath": "gitapi.py", "lineNum": 491}, {"commit": "3814a6420ba3f60f668cafae173f1d9bb4bbbb76", "line": "                        mimetype='application/json')", "origPath": "api.py", "lineNum": 492}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "    return wrapped", "origPath": "api.py", "lineNum": 493}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 494}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 495}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "#### VIEW UTILS ####", "origPath": "restfulgit/__init__.py", "lineNum": 496}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 497}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 498}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "def corsify(func):", "origPath": "gitapi.py", "lineNum": 499}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "    # based on http://flask.pocoo.org/snippets/56/", "origPath": "gitapi.py", "lineNum": 500}, {"commit": "57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa", "line": "    func.provide_automatic_options = False", "origPath": "restfulgit/__init__.py", "lineNum": 501}, {"commit": "57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa", "line": "    func.required_methods = set(getattr(func, 'required_methods', ())) | {'OPTIONS'}", "origPath": "restfulgit/__init__.py", "lineNum": 502}, {"commit": "57216b1514e5b8adcd96c0c1adb3a1d5cf29d2aa", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 503}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "    @functools.wraps(func)", "origPath": "gitapi.py", "lineNum": 504}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "    def wrapped(*args, **kwargs):", "origPath": "gitapi.py", "lineNum": 505}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        if not current_app.config['RESTFULGIT_ENABLE_CORS']:", "origPath": "restfulgit/__init__.py", "lineNum": 506}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "            return func(*args, **kwargs)", "origPath": "restfulgit/__init__.py", "lineNum": 507}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        options_resp = current_app.make_default_options_response()", "origPath": "gitapi.py", "lineNum": 508}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        if request.method == 'OPTIONS':", "origPath": "gitapi.py", "lineNum": 509}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "            resp = options_resp", "origPath": "gitapi.py", "lineNum": 510}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        else:", "origPath": "gitapi.py", "lineNum": 511}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "            resp = make_response(func(*args, **kwargs))", "origPath": "gitapi.py", "lineNum": 512}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        headers = resp.headers", "origPath": "gitapi.py", "lineNum": 513}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        headers['Access-Control-Allow-Methods'] = options_resp.headers['allow']", "origPath": "gitapi.py", "lineNum": 514}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        headers['Access-Control-Allow-Origin'] = current_app.config['RESTFULGIT_CORS_ALLOWED_ORIGIN']", "origPath": "restfulgit/__init__.py", "lineNum": 515}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        headers['Access-Control-Allow-Credentials'] = str(current_app.config['RESTFULGIT_CORS_ALLOW_CREDENTIALS']).lower()", "origPath": "restfulgit/__init__.py", "lineNum": 516}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        allowed_headers = current_app.config['RESTFULGIT_CORS_ALLOWED_HEADERS']", "origPath": "restfulgit/__init__.py", "lineNum": 517}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        if allowed_headers:", "origPath": "restfulgit/__init__.py", "lineNum": 518}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "            headers['Access-Control-Allow-Headers'] = \", \".join(allowed_headers)", "origPath": "restfulgit/__init__.py", "lineNum": 519}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        max_age = current_app.config['RESTFULGIT_CORS_MAX_AGE']", "origPath": "restfulgit/__init__.py", "lineNum": 520}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        if max_age is not None:", "origPath": "restfulgit/__init__.py", "lineNum": 521}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "            headers['Access-Control-Max-Age'] = str(int(max_age.total_seconds()))", "origPath": "restfulgit/__init__.py", "lineNum": 522}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "        return resp", "origPath": "gitapi.py", "lineNum": 523}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "", "origPath": "gitapi.py", "lineNum": 524}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "    return wrapped", "origPath": "gitapi.py", "lineNum": 525}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "", "origPath": "gitapi.py", "lineNum": 526}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "", "origPath": "gitapi.py", "lineNum": 527}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "class FixedOffset(tzinfo):", "origPath": "api.py", "lineNum": 528}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "    ZERO = timedelta(0)", "origPath": "api.py", "lineNum": 529}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 530}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "    def __init__(self, offset):", "origPath": "api.py", "lineNum": 531}, {"commit": "1f6787c238ef12413dca5305b8254c26c299718f", "line": "        super(FixedOffset, self).__init__()", "origPath": "gitapi.py", "lineNum": 532}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        self._offset = timedelta(minutes=offset)", "origPath": "api.py", "lineNum": 533}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 534}, {"commit": "1f6787c238ef12413dca5305b8254c26c299718f", "line": "    def utcoffset(self, dt):  # pylint: disable=W0613", "origPath": "gitapi.py", "lineNum": 535}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        return self._offset", "origPath": "api.py", "lineNum": 536}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 537}, {"commit": "1f6787c238ef12413dca5305b8254c26c299718f", "line": "    def dst(self, dt):  # pylint: disable=W0613", "origPath": "gitapi.py", "lineNum": 538}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "        return self.ZERO", "origPath": "api.py", "lineNum": 539}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 540}, {"commit": "bc7878acc87284e54cc7c628e10aed898135877e", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 541}, {"commit": "bc7878acc87284e54cc7c628e10aed898135877e", "line": "UTC = FixedOffset(0)", "origPath": "restfulgit/__init__.py", "lineNum": 542}, {"commit": "bc7878acc87284e54cc7c628e10aed898135877e", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 543}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "OCTET_STREAM = 'application/octet-stream'", "origPath": "gitapi.py", "lineNum": 544}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "ZIP_MIME_TYPE = 'application/zip'", "origPath": "restfulgit/__init__.py", "lineNum": 545}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "GZIP_MIME_TYPE = 'application/x-gzip'", "origPath": "restfulgit/__init__.py", "lineNum": 546}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "TAR_MIME_TYPE = 'application/x-tar'", "origPath": "restfulgit/__init__.py", "lineNum": 547}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "", "origPath": "gitapi.py", "lineNum": 548}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "", "origPath": "gitapi.py", "lineNum": 549}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "# JSON error pages based on http://flask.pocoo.org/snippets/83/", "origPath": "restfulgit/__init__.py", "lineNum": 550}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "def register_general_error_handler(blueprint_or_app, handler):", "origPath": "restfulgit/__init__.py", "lineNum": 551}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    error_codes = default_exceptions.keys()", "origPath": "restfulgit/__init__.py", "lineNum": 552}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    if isinstance(blueprint_or_app, Blueprint):", "origPath": "restfulgit/__init__.py", "lineNum": 553}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "        error_codes.remove(500)  # Flask doesn't currently allow per-Blueprint HTTP 500 error handlers", "origPath": "restfulgit/__init__.py", "lineNum": 554}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 555}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    for err_code in error_codes:", "origPath": "restfulgit/__init__.py", "lineNum": 556}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "        blueprint_or_app.errorhandler(err_code)(handler)", "origPath": "restfulgit/__init__.py", "lineNum": 557}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 558}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 559}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "def json_error_page(error):", "origPath": "restfulgit/__init__.py", "lineNum": 560}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    err_msg = error.description if isinstance(error, HTTPException) else unicode(error)", "origPath": "restfulgit/__init__.py", "lineNum": 561}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    resp = Response(json.dumps({'error': err_msg}), mimetype='application/json')", "origPath": "restfulgit/__init__.py", "lineNum": 562}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    resp.status_code = (error.code if isinstance(error, HTTPException) else 500)", "origPath": "restfulgit/__init__.py", "lineNum": 563}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "    return resp", "origPath": "restfulgit/__init__.py", "lineNum": 564}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 565}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 566}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "register_general_error_handler(restfulgit, json_error_page)", "origPath": "restfulgit/__init__.py", "lineNum": 567}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "register_general_error_handler(app, json_error_page)", "origPath": "restfulgit/__init__.py", "lineNum": 568}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 569}, {"commit": "a8e4af2d7f30492bfef34ccb1c2c167df54512ba", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 570}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "def register_converter(blueprint, name, converter):", "origPath": "gitapi.py", "lineNum": 571}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "    @blueprint.record_once", "origPath": "gitapi.py", "lineNum": 572}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "    def registrator(state):  # pylint: disable=W0612", "origPath": "gitapi.py", "lineNum": 573}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "        state.app.url_map.converters[name] = converter", "origPath": "gitapi.py", "lineNum": 574}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "", "origPath": "gitapi.py", "lineNum": 575}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "", "origPath": "gitapi.py", "lineNum": 576}, {"commit": "1f6787c238ef12413dca5305b8254c26c299718f", "line": "class SHAConverter(BaseConverter):  # pylint: disable=W0232", "origPath": "gitapi.py", "lineNum": 577}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "    regex = r'(?:[0-9a-fA-F]{1,40})'", "origPath": "gitapi.py", "lineNum": 578}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "", "origPath": "gitapi.py", "lineNum": 579}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "", "origPath": "gitapi.py", "lineNum": 580}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "register_converter(restfulgit, 'sha', SHAConverter)", "origPath": "gitapi.py", "lineNum": 581}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "", "origPath": "gitapi.py", "lineNum": 582}, {"commit": "ba3f032dbd2ead6a6610f3bf3b66f05cb628f579", "line": "", "origPath": "gitapi.py", "lineNum": 583}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "##### PLUMBING API VIEWS #####", "origPath": "restfulgit/__init__.py", "lineNum": 584}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 585}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 586}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/commits/')", "origPath": "gitapi.py", "lineNum": 587}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 588}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "@jsonify", "origPath": "api.py", "lineNum": 589}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "def get_commit_list(repo_key):", "origPath": "api.py", "lineNum": 590}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    ref_name = request.args.get('ref_name') or None", "origPath": "api.py", "lineNum": 591}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    start_sha = request.args.get('start_sha') or None", "origPath": "api.py", "lineNum": 592}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    limit = request.args.get('limit') or current_app.config['RESTFULGIT_DEFAULT_COMMIT_LIST_LIMIT']", "origPath": "restfulgit/__init__.py", "lineNum": 593}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    try:", "origPath": "api.py", "lineNum": 594}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        limit = int(limit)", "origPath": "api.py", "lineNum": 595}, {"commit": "9d37eea76c436a69ede95a9a8653536a1819b391", "line": "    except ValueError:", "origPath": "gitapi.py", "lineNum": 596}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        raise BadRequest(\"invalid limit\")", "origPath": "api.py", "lineNum": 597}, {"commit": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0", "line": "    if limit < 0:", "origPath": "gitapi.py", "lineNum": 598}, {"commit": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0", "line": "        raise BadRequest(\"invalid limit\")", "origPath": "gitapi.py", "lineNum": 599}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 600}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 601}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 602}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    start_commit_id = None", "origPath": "api.py", "lineNum": 603}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    if start_sha is not None:", "origPath": "api.py", "lineNum": 604}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        start_commit_id = start_sha", "origPath": "api.py", "lineNum": 605}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    else:", "origPath": "api.py", "lineNum": 606}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        if ref_name is None:", "origPath": "api.py", "lineNum": 607}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            ref_name = \"HEAD\"", "origPath": "api.py", "lineNum": 608}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        ref = _lookup_ref(repo, ref_name)", "origPath": "api.py", "lineNum": 609}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "        if ref is None:", "origPath": "api.py", "lineNum": 610}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "            raise NotFound(\"reference not found\")", "origPath": "api.py", "lineNum": 611}, {"commit": "98b873f9d87b110a48628b8493de2cb0383eb391", "line": "        start_commit_id = _lookup_ref(repo, ref_name).resolve().target", "origPath": "gitapi.py", "lineNum": 612}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 613}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "    try:", "origPath": "gitapi.py", "lineNum": 614}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "        walker = repo.walk(start_commit_id, GIT_SORT_TIME)", "origPath": "gitapi.py", "lineNum": 615}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "    except ValueError:", "origPath": "gitapi.py", "lineNum": 616}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "        raise BadRequest(\"invalid start_sha\")", "origPath": "gitapi.py", "lineNum": 617}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "    except KeyError:", "origPath": "gitapi.py", "lineNum": 618}, {"commit": "b0dccd7fd8ec2b1953a6cda735dca5211811cc12", "line": "        raise NotFound(\"commit not found\")", "origPath": "gitapi.py", "lineNum": 619}, {"commit": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0", "line": "", "origPath": "gitapi.py", "lineNum": 620}, {"commit": "03eeb27c1c5fc91c99095daac8f737a71faf5fd0", "line": "    commits = [_convert_commit(repo_key, commit) for commit in islice(walker, limit)]", "origPath": "gitapi.py", "lineNum": 621}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "    return commits", "origPath": "api.py", "lineNum": 622}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "", "origPath": "api.py", "lineNum": 623}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 624}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/commits/<sha:sha>/')", "origPath": "gitapi.py", "lineNum": 625}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 626}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "@jsonify", "origPath": "api.py", "lineNum": 627}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def get_commit(repo_key, sha):", "origPath": "api.py", "lineNum": 628}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 629}, {"commit": "ff6405b71273b5c2c50d5c33d5cf962af5390542", "line": "    commit = _get_commit(repo, sha)", "origPath": "api.py", "lineNum": 630}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "    return _convert_commit(repo_key, commit)", "origPath": "api.py", "lineNum": 631}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 632}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 633}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "@restfulgit.route('/repos/<repo_key>/commits/<branch_or_tag_or_sha>/')", "origPath": "restfulgit/__init__.py", "lineNum": 634}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 635}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 636}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "def get_repos_commit(repo_key, branch_or_tag_or_sha):", "origPath": "restfulgit/__init__.py", "lineNum": 637}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 638}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "restfulgit/__init__.py", "lineNum": 639}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "    return _repos_convert_commit(repo_key, repo, commit, include_diff=True)", "origPath": "restfulgit/__init__.py", "lineNum": 640}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 641}, {"commit": "7a5d593ef3d556437d4d031988835ebd20acad80", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 642}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/trees/<sha:sha>/')", "origPath": "gitapi.py", "lineNum": 643}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 644}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "@jsonify", "origPath": "api.py", "lineNum": 645}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def get_tree(repo_key, sha):", "origPath": "api.py", "lineNum": 646}, {"commit": "c0156f8fec7f17e2007c651a2aed8c1a017455dc", "line": "    recursive = request.args.get('recursive') == '1'", "origPath": "restfulgit/__init__.py", "lineNum": 647}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 648}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    tree = _get_tree(repo, sha)", "origPath": "api.py", "lineNum": 649}, {"commit": "f0be1cb9be2d871c8c5c8d2412995402cf687d73", "line": "    return _convert_tree(repo_key, repo, tree, recursive)", "origPath": "restfulgit/__init__.py", "lineNum": 650}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 651}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 652}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/blobs/<sha:sha>/')", "origPath": "gitapi.py", "lineNum": 653}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 654}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "@jsonify", "origPath": "api.py", "lineNum": 655}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "def get_blob(repo_key, sha):", "origPath": "api.py", "lineNum": 656}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 657}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    try:", "origPath": "api.py", "lineNum": 658}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        blob = repo[unicode(sha)]", "origPath": "api.py", "lineNum": 659}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    except KeyError:", "origPath": "api.py", "lineNum": 660}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        raise NotFound(\"blob not found\")", "origPath": "api.py", "lineNum": 661}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    if blob.type != GIT_OBJ_BLOB:", "origPath": "api.py", "lineNum": 662}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        raise NotFound(\"sha not a blob\")", "origPath": "api.py", "lineNum": 663}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "    return _convert_blob(repo_key, blob)", "origPath": "api.py", "lineNum": 664}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "", "origPath": "api.py", "lineNum": 665}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 666}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/tags/<sha:sha>/')", "origPath": "gitapi.py", "lineNum": 667}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 668}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "@jsonify", "origPath": "gitapi.py", "lineNum": 669}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "def get_tag(repo_key, sha):", "origPath": "gitapi.py", "lineNum": 670}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    repo = _get_repo(repo_key)", "origPath": "gitapi.py", "lineNum": 671}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    tag = _get_tag(repo, sha)", "origPath": "gitapi.py", "lineNum": 672}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "    return _convert_tag(repo_key, repo, tag)", "origPath": "gitapi.py", "lineNum": 673}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 674}, {"commit": "fff95c78da2d18030881d3e3d7c3733b5db46013", "line": "", "origPath": "gitapi.py", "lineNum": 675}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "##### PORCELAIN API VIEWS #####", "origPath": "restfulgit/__init__.py", "lineNum": 676}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 677}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 678}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "@restfulgit.route('/repos/<repo_key>/')", "origPath": "restfulgit/__init__.py", "lineNum": 679}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 680}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 681}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "def get_repo(repo_key):", "origPath": "restfulgit/__init__.py", "lineNum": 682}, {"commit": "75cb7c9120868b44dc3c7cc2575b2349413cfa11", "line": "    _get_repo(repo_key)  # check repo_key validity", "origPath": "gitapi.py", "lineNum": 683}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    return _convert_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 684}, {"commit": "75cb7c9120868b44dc3c7cc2575b2349413cfa11", "line": "", "origPath": "gitapi.py", "lineNum": 685}, {"commit": "75cb7c9120868b44dc3c7cc2575b2349413cfa11", "line": "", "origPath": "gitapi.py", "lineNum": 686}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "@restfulgit.route('/repos/')", "origPath": "gitapi.py", "lineNum": 687}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 688}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "@jsonify", "origPath": "gitapi.py", "lineNum": 689}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "def get_repo_list():", "origPath": "gitapi.py", "lineNum": 690}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    children = (", "origPath": "restfulgit/__init__.py", "lineNum": 691}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        (name, safe_join(current_app.config['RESTFULGIT_REPO_BASE_PATH'], name))", "origPath": "restfulgit/__init__.py", "lineNum": 692}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "        for name in os.listdir(current_app.config['RESTFULGIT_REPO_BASE_PATH'])", "origPath": "restfulgit/__init__.py", "lineNum": 693}, {"commit": "1968d88d70f04f338f2ba54a41d6e0ce06ff65c4", "line": "    )", "origPath": "restfulgit/__init__.py", "lineNum": 694}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "    subdirs = [(dir_name, full_path) for dir_name, full_path in children if os.path.isdir(full_path)]", "origPath": "gitapi.py", "lineNum": 695}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "    mirrors = set(name for name, _ in subdirs if name.endswith('.git'))", "origPath": "gitapi.py", "lineNum": 696}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "    working_copies = set(name for name, full_path in subdirs if os.path.isdir(safe_join(full_path, '.git')))", "origPath": "gitapi.py", "lineNum": 697}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "    repositories = list(mirrors | working_copies)", "origPath": "gitapi.py", "lineNum": 698}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "    repositories.sort()", "origPath": "gitapi.py", "lineNum": 699}, {"commit": "ada2aa81245fe3725b0380a61d8462a45b1f81b8", "line": "    return [_convert_repo(repo_key) for repo_key in repositories]", "origPath": "restfulgit/__init__.py", "lineNum": 700}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "", "origPath": "gitapi.py", "lineNum": 701}, {"commit": "04ba1b8e3c74628d91d137c53a5bd3aef73d6725", "line": "", "origPath": "gitapi.py", "lineNum": 702}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "TAG_REF_PREFIX = \"refs/tags/\"", "origPath": "restfulgit/__init__.py", "lineNum": 703}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 704}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 705}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "@restfulgit.route('/repos/<repo_key>/tags/')", "origPath": "restfulgit/__init__.py", "lineNum": 706}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 707}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 708}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "def get_tags(repo_key):", "origPath": "restfulgit/__init__.py", "lineNum": 709}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 710}, {"commit": "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4", "line": "    ref_names = ifilter(lambda ref_name: ref_name.startswith(TAG_REF_PREFIX), repo.listall_references())", "origPath": "restfulgit/__init__.py", "lineNum": 711}, {"commit": "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4", "line": "    tags = (repo.lookup_reference(ref_name) for ref_name in ref_names)", "origPath": "restfulgit/__init__.py", "lineNum": 712}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "    return [", "origPath": "restfulgit/__init__.py", "lineNum": 713}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "        {", "origPath": "restfulgit/__init__.py", "lineNum": 714}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "            \"name\": tag.shorthand,", "origPath": "restfulgit/__init__.py", "lineNum": 715}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "            \"commit\": {", "origPath": "restfulgit/__init__.py", "lineNum": 716}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "                \"sha\": tag.get_object().hex,", "origPath": "restfulgit/__init__.py", "lineNum": 717}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "                \"url\": url_for('.get_repos_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 718}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "                               repo_key=repo_key, branch_or_tag_or_sha=tag.get_object().hex),", "origPath": "restfulgit/__init__.py", "lineNum": 719}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "            },", "origPath": "restfulgit/__init__.py", "lineNum": 720}, {"commit": "b392aaa0fb6016bc2a3d7225614aa3794cf26f90", "line": "            \"url\": url_for('.get_repos_tag', _external=True,  # NOTE: This is RestfulGit extension", "origPath": "restfulgit/__init__.py", "lineNum": 721}, {"commit": "b392aaa0fb6016bc2a3d7225614aa3794cf26f90", "line": "                           repo_key=repo_key, tag_name=tag.shorthand),", "origPath": "restfulgit/__init__.py", "lineNum": 722}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "        }", "origPath": "restfulgit/__init__.py", "lineNum": 723}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "        for tag in tags", "origPath": "restfulgit/__init__.py", "lineNum": 724}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "    ]", "origPath": "restfulgit/__init__.py", "lineNum": 725}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 726}, {"commit": "cb7c0975451b3744212a3700920ae4be729fa22f", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 727}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "@restfulgit.route('/repos/<repo_key>/tags/<tag_name>/')", "origPath": "restfulgit/__init__.py", "lineNum": 728}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 729}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 730}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "def get_repos_tag(repo_key, tag_name):  # NOTE: This endpoint is a RestfulGit extension", "origPath": "restfulgit/__init__.py", "lineNum": 731}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 732}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    tag = _lookup_ref(repo, TAG_REF_PREFIX + tag_name)", "origPath": "restfulgit/__init__.py", "lineNum": 733}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    if tag is None:", "origPath": "restfulgit/__init__.py", "lineNum": 734}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        raise NotFound(\"tag not found\")", "origPath": "restfulgit/__init__.py", "lineNum": 735}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    result = {", "origPath": "restfulgit/__init__.py", "lineNum": 736}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        \"name\": tag.shorthand,", "origPath": "restfulgit/__init__.py", "lineNum": 737}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        \"commit\": _repos_convert_commit(repo_key, repo, tag.get_object()),", "origPath": "restfulgit/__init__.py", "lineNum": 738}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        \"url\": url_for('.get_repos_tag', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 739}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "                       repo_key=repo_key, tag_name=tag.shorthand),", "origPath": "restfulgit/__init__.py", "lineNum": 740}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 741}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    # simple tag", "origPath": "restfulgit/__init__.py", "lineNum": 742}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    if tag.target != tag.get_object().oid:", "origPath": "restfulgit/__init__.py", "lineNum": 743}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        tag_obj = repo[tag.target]", "origPath": "restfulgit/__init__.py", "lineNum": 744}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "        result['tag'] = _convert_tag(repo_key, repo, tag_obj)", "origPath": "restfulgit/__init__.py", "lineNum": 745}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "    return result", "origPath": "restfulgit/__init__.py", "lineNum": 746}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 747}, {"commit": "2cc12933e21fff340b43ea7221d8d2f48e566445", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 748}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "@restfulgit.route('/repos/<repo_key>/commit/<branch_or_tag_or_sha>.diff')", "origPath": "restfulgit/__init__.py", "lineNum": 749}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 750}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "def get_repos_diff(repo_key, branch_or_tag_or_sha=None):", "origPath": "restfulgit/__init__.py", "lineNum": 751}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 752}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "    commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "restfulgit/__init__.py", "lineNum": 753}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "    diff = _get_diff(repo, commit)", "origPath": "restfulgit/__init__.py", "lineNum": 754}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "    return Response(diff.patch, mimetype=\"text/x-diff\")", "origPath": "restfulgit/__init__.py", "lineNum": 755}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 756}, {"commit": "12fa071e3ae86d1ec573f8c6514dd4b8608185a7", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 757}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@restfulgit.route('/repos/<repo_key>/branches/')", "origPath": "restfulgit/__init__.py", "lineNum": 758}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 759}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 760}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "def get_branches(repo_key):", "origPath": "restfulgit/__init__.py", "lineNum": 761}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 762}, {"commit": "c03c6bfccb2d2f744b15b3ad24aab022c4556bd4", "line": "    branches = (repo.lookup_branch(branch_name) for branch_name in repo.listall_branches())", "origPath": "restfulgit/__init__.py", "lineNum": 763}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    return [", "origPath": "restfulgit/__init__.py", "lineNum": 764}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        {", "origPath": "restfulgit/__init__.py", "lineNum": 765}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            \"name\": branch.branch_name,", "origPath": "restfulgit/__init__.py", "lineNum": 766}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            \"commit\": {", "origPath": "restfulgit/__init__.py", "lineNum": 767}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "                \"sha\": branch.target.hex,", "origPath": "restfulgit/__init__.py", "lineNum": 768}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "                \"url\": url_for('.get_repos_commit', _external=True,", "origPath": "restfulgit/__init__.py", "lineNum": 769}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "                               repo_key=repo_key, branch_or_tag_or_sha=branch.target.hex),", "origPath": "restfulgit/__init__.py", "lineNum": 770}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "            },", "origPath": "restfulgit/__init__.py", "lineNum": 771}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        }", "origPath": "restfulgit/__init__.py", "lineNum": 772}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "        for branch in branches", "origPath": "restfulgit/__init__.py", "lineNum": 773}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    ]", "origPath": "restfulgit/__init__.py", "lineNum": 774}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 775}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 776}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@restfulgit.route('/repos/<repo_key>/branches/<branch_name>/')", "origPath": "restfulgit/__init__.py", "lineNum": 777}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 778}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 779}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "def get_branch(repo_key, branch_name):", "origPath": "restfulgit/__init__.py", "lineNum": 780}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 781}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    branch = _get_branch(repo, branch_name)", "origPath": "restfulgit/__init__.py", "lineNum": 782}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "    return _convert_branch(repo_key, repo, branch)", "origPath": "restfulgit/__init__.py", "lineNum": 783}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 784}, {"commit": "030c2a3b7aacc2b4e0d654a5d717880cc7df6495", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 785}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/refs/')", "origPath": "gitapi.py", "lineNum": 786}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/repos/<repo_key>/git/refs/<path:ref_path>')", "origPath": "gitapi.py", "lineNum": 787}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 788}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "@jsonify", "origPath": "api.py", "lineNum": 789}, {"commit": "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba", "line": "def get_refs(repo_key, ref_path=None):", "origPath": "restfulgit/__init__.py", "lineNum": 790}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    if ref_path is not None:", "origPath": "api.py", "lineNum": 791}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        ref_path = \"refs/\" + ref_path", "origPath": "api.py", "lineNum": 792}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    else:", "origPath": "api.py", "lineNum": 793}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        ref_path = \"\"", "origPath": "api.py", "lineNum": 794}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 795}, {"commit": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "line": "    ref_names = ifilter(lambda x: x.startswith(ref_path), repo.listall_references())", "origPath": "gitapi.py", "lineNum": 796}, {"commit": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "line": "    references = (repo.lookup_reference(ref_name) for ref_name in ref_names)", "origPath": "gitapi.py", "lineNum": 797}, {"commit": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "line": "    nonsymbolic_refs = ifilter(lambda x: x.type != GIT_REF_SYMBOLIC, references)", "origPath": "gitapi.py", "lineNum": 798}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    ref_data = [", "origPath": "api.py", "lineNum": 799}, {"commit": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "line": "        _convert_ref(repo_key, reference, repo[reference.target])", "origPath": "gitapi.py", "lineNum": 800}, {"commit": "f9ddce5d07e6d174e391d2742c1be9bbf024d7b4", "line": "        for reference in nonsymbolic_refs", "origPath": "gitapi.py", "lineNum": 801}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "    ]", "origPath": "api.py", "lineNum": 802}, {"commit": "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba", "line": "    if len(ref_data) == 1 and ref_data[0]['ref'] == ref_path:", "origPath": "restfulgit/__init__.py", "lineNum": 803}, {"commit": "ba48a38fbe02d43b4fa7ee3d750c3acc004c99ba", "line": "        # exact match", "origPath": "restfulgit/__init__.py", "lineNum": 804}, {"commit": "07b9bf1540305153ceeb4519a50b588c35a35464", "line": "        ref_data = ref_data[0]", "origPath": "api.py", "lineNum": 805}, {"commit": "326d80cd68ec3413fe6eaca99c52c59ca428a0d0", "line": "    return ref_data", "origPath": "api.py", "lineNum": 806}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 807}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 808}, {"commit": "c3da9ea4e57a4218b544d1f587ef4c54c35b587f", "line": "@restfulgit.route('/repos/<repo_key>/raw/<branch_or_tag_or_sha>/<path:file_path>')", "origPath": "restfulgit/__init__.py", "lineNum": 809}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 810}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "def get_raw(repo_key, branch_or_tag_or_sha, file_path):", "origPath": "gitapi.py", "lineNum": 811}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "    repo = _get_repo(repo_key)", "origPath": "api.py", "lineNum": 812}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "gitapi.py", "lineNum": 813}, {"commit": "19c504120a3656d9165a5b08dd2c15f53391cd54", "line": "    tree = _get_tree(repo, commit.tree.hex)", "origPath": "gitapi.py", "lineNum": 814}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    data = _get_raw_file_contents(repo, tree, file_path)", "origPath": "restfulgit/__init__.py", "lineNum": 815}, {"commit": "6a818c8507df47b26ae66ff4cf07cc287337df04", "line": "    mime_type = guess_mime_type(os.path.basename(file_path), data)", "origPath": "gitapi.py", "lineNum": 816}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "    if mime_type is None:", "origPath": "gitapi.py", "lineNum": 817}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "        mime_type = OCTET_STREAM", "origPath": "gitapi.py", "lineNum": 818}, {"commit": "b7a1adc403a0d186519bba43c63b394c15a0e953", "line": "    return Response(data, mimetype=mime_type)", "origPath": "gitapi.py", "lineNum": 819}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 820}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "", "origPath": "api.py", "lineNum": 821}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "@restfulgit.route('/repos/<repo_key>/contents/<path:file_path>')", "origPath": "restfulgit/__init__.py", "lineNum": 822}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 823}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "def get_contents(repo_key, path):  # pylint: disable=W0613", "origPath": "restfulgit/__init__.py", "lineNum": 824}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "    ref = request.args.get('ref')  # pylint: disable=W0612", "origPath": "restfulgit/__init__.py", "lineNum": 825}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "    raise NotImplementedError()", "origPath": "restfulgit/__init__.py", "lineNum": 826}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 827}, {"commit": "65cd39314430e43945c5427a40b1896801ad2950", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 828}, {"commit": "6e9692de7bea62e8188323d79bea77d5901582c4", "line": "@restfulgit.route('/repos/<repo_key>/blame/<branch_or_tag_or_sha>/<path:file_path>')  # NOTE: This endpoint is a RestfulGit extension", "origPath": "restfulgit/__init__.py", "lineNum": 829}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 830}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "@jsonify", "origPath": "restfulgit/__init__.py", "lineNum": 831}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "def get_blame(repo_key, branch_or_tag_or_sha, file_path):", "origPath": "restfulgit/__init__.py", "lineNum": 832}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    min_line = request.args.get('firstLine')", "origPath": "restfulgit/__init__.py", "lineNum": 833}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    if min_line is None:", "origPath": "restfulgit/__init__.py", "lineNum": 834}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        min_line = 1", "origPath": "restfulgit/__init__.py", "lineNum": 835}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    try:", "origPath": "restfulgit/__init__.py", "lineNum": 836}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        min_line = int(min_line)", "origPath": "restfulgit/__init__.py", "lineNum": 837}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    except ValueError:", "origPath": "restfulgit/__init__.py", "lineNum": 838}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        raise BadRequest(\"firstLine was not a valid integer\")", "origPath": "restfulgit/__init__.py", "lineNum": 839}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    if min_line < 1:", "origPath": "restfulgit/__init__.py", "lineNum": 840}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        raise BadRequest(\"firstLine must be positive\")", "origPath": "restfulgit/__init__.py", "lineNum": 841}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 842}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    max_line = request.args.get('lastLine')", "origPath": "restfulgit/__init__.py", "lineNum": 843}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    if max_line is not None:", "origPath": "restfulgit/__init__.py", "lineNum": 844}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        try:", "origPath": "restfulgit/__init__.py", "lineNum": 845}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            max_line = int(max_line)", "origPath": "restfulgit/__init__.py", "lineNum": 846}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        except ValueError:", "origPath": "restfulgit/__init__.py", "lineNum": 847}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            raise BadRequest(\"lastLine was not a valid integer\")", "origPath": "restfulgit/__init__.py", "lineNum": 848}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        if max_line < 1:", "origPath": "restfulgit/__init__.py", "lineNum": 849}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            raise BadRequest(\"lastLine must be positive\")", "origPath": "restfulgit/__init__.py", "lineNum": 850}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 851}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        if min_line > max_line:", "origPath": "restfulgit/__init__.py", "lineNum": 852}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            raise BadRequest(\"line range start cannot be greater than line range end\")", "origPath": "restfulgit/__init__.py", "lineNum": 853}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 854}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 855}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    newest_commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "restfulgit/__init__.py", "lineNum": 856}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    tree = _get_tree(repo, newest_commit.tree.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 857}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 858}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    flags = GIT_BLAME_TRACK_COPIES_SAME_COMMIT_MOVES | GIT_BLAME_TRACK_COPIES_SAME_COMMIT_COPIES", "origPath": "restfulgit/__init__.py", "lineNum": 859}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    oldest_commit = request.args.get('oldest')", "origPath": "restfulgit/__init__.py", "lineNum": 860}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    # FIX ME: enable once next pygit2 version is released", "origPath": "restfulgit/__init__.py", "lineNum": 861}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    # FIX ME: add tests", "origPath": "restfulgit/__init__.py", "lineNum": 862}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    # FIX ME: document", "origPath": "restfulgit/__init__.py", "lineNum": 863}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    # pylint: disable=W0101", "origPath": "restfulgit/__init__.py", "lineNum": 864}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    raise NotImplementedError(\"Blocked pending a new pygit2 release with a fixed version of the Blame API.\")", "origPath": "restfulgit/__init__.py", "lineNum": 865}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    blame = repo.blame(", "origPath": "restfulgit/__init__.py", "lineNum": 866}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        file_path,", "origPath": "restfulgit/__init__.py", "lineNum": 867}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        flags,", "origPath": "restfulgit/__init__.py", "lineNum": 868}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        newest_commit=newest_commit,", "origPath": "restfulgit/__init__.py", "lineNum": 869}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        oldest_commit=oldest_commit,", "origPath": "restfulgit/__init__.py", "lineNum": 870}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        min_line=min_line,", "origPath": "restfulgit/__init__.py", "lineNum": 871}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        max_line=max_line", "origPath": "restfulgit/__init__.py", "lineNum": 872}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    )", "origPath": "restfulgit/__init__.py", "lineNum": 873}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    raw_lines = _get_raw_file_contents(repo, tree, file_path).splitlines()", "origPath": "restfulgit/__init__.py", "lineNum": 874}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 875}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    return {", "origPath": "restfulgit/__init__.py", "lineNum": 876}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        'lines': [", "origPath": "restfulgit/__init__.py", "lineNum": 877}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            {", "origPath": "restfulgit/__init__.py", "lineNum": 878}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                'commit': _convert_commit(repo_key, _get_commit(repo, hunk.final_commit_id)),", "origPath": "restfulgit/__init__.py", "lineNum": 879}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                'origPath': hunk.orig_path,", "origPath": "restfulgit/__init__.py", "lineNum": 880}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                'lineNum': line_num,", "origPath": "restfulgit/__init__.py", "lineNum": 881}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "                'line': raw_lines[line_num - 1],", "origPath": "restfulgit/__init__.py", "lineNum": 882}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "            } for line_num, hunk in izip(count(min_line), blame)", "origPath": "restfulgit/__init__.py", "lineNum": 883}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "        ]", "origPath": "restfulgit/__init__.py", "lineNum": 884}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "    }", "origPath": "restfulgit/__init__.py", "lineNum": 885}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 886}, {"commit": "6c90fe7020c7f71d1ed12153f45701502650a5cc", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 887}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def _walk_tree_recursively(repo, tree, blobs_only=False, base_path=''):", "origPath": "restfulgit/__init__.py", "lineNum": 888}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    for entry in tree:", "origPath": "restfulgit/__init__.py", "lineNum": 889}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        if entry.filemode == GIT_MODE_SUBMODULE:", "origPath": "restfulgit/__init__.py", "lineNum": 890}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            continue  # FIX ME: handle submodules & symlinks", "origPath": "restfulgit/__init__.py", "lineNum": 891}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        path = base_path + entry.name", "origPath": "restfulgit/__init__.py", "lineNum": 892}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        obj = repo[entry.oid]", "origPath": "restfulgit/__init__.py", "lineNum": 893}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        if not blobs_only or obj.type == GIT_OBJ_BLOB:", "origPath": "restfulgit/__init__.py", "lineNum": 894}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            yield path, entry.filemode, obj", "origPath": "restfulgit/__init__.py", "lineNum": 895}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 896}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        if obj.type == GIT_OBJ_TREE:", "origPath": "restfulgit/__init__.py", "lineNum": 897}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            for subpath, subfilemode, subobj in _walk_tree_recursively(repo, obj, blobs_only, (path + '/')):", "origPath": "restfulgit/__init__.py", "lineNum": 898}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                yield subpath, subfilemode, subobj", "origPath": "restfulgit/__init__.py", "lineNum": 899}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 900}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 901}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def _wrapper_dir_name_for(repo_key, commit):", "origPath": "restfulgit/__init__.py", "lineNum": 902}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return \"{}-{}\".format(repo_key, commit.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 903}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 904}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 905}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def _archive_filename_for(repo_key, refspec, ext):", "origPath": "restfulgit/__init__.py", "lineNum": 906}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return \"{}-{}{}\".format(repo_key, refspec, ext)", "origPath": "restfulgit/__init__.py", "lineNum": 907}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 908}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 909}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def _make_temp_file(prefix='tmp_restfulgit_', suffix='', text=False):", "origPath": "restfulgit/__init__.py", "lineNum": 910}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    handle, filepath = _make_temp_file_handle(prefix=prefix, suffix=suffix, text=text)", "origPath": "restfulgit/__init__.py", "lineNum": 911}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    try:", "origPath": "restfulgit/__init__.py", "lineNum": 912}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        os.remove(filepath)", "origPath": "restfulgit/__init__.py", "lineNum": 913}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    except (OSError, IOError):", "origPath": "restfulgit/__init__.py", "lineNum": 914}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        current_app.logger.exception(\"Encountered error when attempting to delete temporary file.\")", "origPath": "restfulgit/__init__.py", "lineNum": 915}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    # Our handle is now the only way to access the temp file.", "origPath": "restfulgit/__init__.py", "lineNum": 916}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    # The OS will delete the file completely once our handle is closed (at the end of the HTTP request).", "origPath": "restfulgit/__init__.py", "lineNum": 917}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    mode = 'w+'", "origPath": "restfulgit/__init__.py", "lineNum": 918}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    if not text:", "origPath": "restfulgit/__init__.py", "lineNum": 919}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        mode += 'b'", "origPath": "restfulgit/__init__.py", "lineNum": 920}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    file_obj = os.fdopen(handle, mode)", "origPath": "restfulgit/__init__.py", "lineNum": 921}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return file_obj", "origPath": "restfulgit/__init__.py", "lineNum": 922}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 923}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 924}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def _send_transient_file_as_attachment(source_filename_or_fp, attachment_filename, mimetype):", "origPath": "restfulgit/__init__.py", "lineNum": 925}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return send_file(", "origPath": "restfulgit/__init__.py", "lineNum": 926}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        source_filename_or_fp,", "origPath": "restfulgit/__init__.py", "lineNum": 927}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        mimetype=mimetype,", "origPath": "restfulgit/__init__.py", "lineNum": 928}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        as_attachment=True,", "origPath": "restfulgit/__init__.py", "lineNum": 929}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        attachment_filename=attachment_filename,", "origPath": "restfulgit/__init__.py", "lineNum": 930}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        add_etags=False,", "origPath": "restfulgit/__init__.py", "lineNum": 931}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        cache_timeout=0,", "origPath": "restfulgit/__init__.py", "lineNum": 932}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    )", "origPath": "restfulgit/__init__.py", "lineNum": 933}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 934}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 935}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "ZIP_EXTENSION = '.zip'", "origPath": "restfulgit/__init__.py", "lineNum": 936}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 937}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 938}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "@restfulgit.route('/repos/<repo_key>/zipball/<branch_or_tag_or_sha>/')", "origPath": "restfulgit/__init__.py", "lineNum": 939}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 940}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def get_zip_file(repo_key, branch_or_tag_or_sha):", "origPath": "restfulgit/__init__.py", "lineNum": 941}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    \"\"\"", "origPath": "restfulgit/__init__.py", "lineNum": 942}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    Serves a ZIP file of a working copy of the repo at the given commit.", "origPath": "restfulgit/__init__.py", "lineNum": 943}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    Note: This endpoint is relatively slow, and the ZIP file is generated from-scratch on each request (no caching is done).", "origPath": "restfulgit/__init__.py", "lineNum": 944}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    \"\"\"", "origPath": "restfulgit/__init__.py", "lineNum": 945}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 946}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "restfulgit/__init__.py", "lineNum": 947}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    tree = _get_tree(repo, commit.tree.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 948}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 949}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    wrapper_dir = _wrapper_dir_name_for(repo_key, commit)", "origPath": "restfulgit/__init__.py", "lineNum": 950}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    temp_file = _make_temp_file(suffix=ZIP_EXTENSION)", "origPath": "restfulgit/__init__.py", "lineNum": 951}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    with zipfile.ZipFile(temp_file, mode='w', compression=ZIP_COMPRESSION_METHOD, allowZip64=True) as zip_file:", "origPath": "restfulgit/__init__.py", "lineNum": 952}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        for filepath, _, blob in _walk_tree_recursively(repo, tree, blobs_only=True):", "origPath": "restfulgit/__init__.py", "lineNum": 953}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            filepath = os.path.join(wrapper_dir, filepath)", "origPath": "restfulgit/__init__.py", "lineNum": 954}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            zip_file.writestr(filepath, blob.data)", "origPath": "restfulgit/__init__.py", "lineNum": 955}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    temp_file.seek(0)", "origPath": "restfulgit/__init__.py", "lineNum": 956}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return _send_transient_file_as_attachment(temp_file,", "origPath": "restfulgit/__init__.py", "lineNum": 957}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                                              _archive_filename_for(repo_key, refspec=branch_or_tag_or_sha, ext=ZIP_EXTENSION),", "origPath": "restfulgit/__init__.py", "lineNum": 958}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                                              ZIP_MIME_TYPE)", "origPath": "restfulgit/__init__.py", "lineNum": 959}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 960}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 961}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "TAR_EXTENSION = '.tar'", "origPath": "restfulgit/__init__.py", "lineNum": 962}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "TGZ_EXTENSION = '.tar.gz'", "origPath": "restfulgit/__init__.py", "lineNum": 963}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "EPOCH_START = datetime(1970, 1, 1)", "origPath": "restfulgit/__init__.py", "lineNum": 964}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 965}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 966}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "@restfulgit.route('/repos/<repo_key>/tarball/<branch_or_tag_or_sha>/')", "origPath": "restfulgit/__init__.py", "lineNum": 967}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "@corsify", "origPath": "restfulgit/__init__.py", "lineNum": 968}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "def get_tarball(repo_key, branch_or_tag_or_sha):", "origPath": "restfulgit/__init__.py", "lineNum": 969}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    \"\"\"", "origPath": "restfulgit/__init__.py", "lineNum": 970}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    Serves a TAR file of a working copy of the repo at the given commit.", "origPath": "restfulgit/__init__.py", "lineNum": 971}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    If Python's zlib bindings are available, the TAR file will be gzip-ed.", "origPath": "restfulgit/__init__.py", "lineNum": 972}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    The limited permissions information that git stores is honored in the TAR file.", "origPath": "restfulgit/__init__.py", "lineNum": 973}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    The commit SHA is included as a PAX header field named \"comment\".", "origPath": "restfulgit/__init__.py", "lineNum": 974}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    Note: This endpoint is relatively slow, and the TAR file is generated from-scratch on each request (no caching is done).", "origPath": "restfulgit/__init__.py", "lineNum": 975}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    \"\"\"", "origPath": "restfulgit/__init__.py", "lineNum": 976}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    repo = _get_repo(repo_key)", "origPath": "restfulgit/__init__.py", "lineNum": 977}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    commit = _get_commit_for_refspec(repo, branch_or_tag_or_sha)", "origPath": "restfulgit/__init__.py", "lineNum": 978}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    tree = _get_tree(repo, commit.tree.hex)", "origPath": "restfulgit/__init__.py", "lineNum": 979}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 980}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    wrapper_dir = _wrapper_dir_name_for(repo_key, commit)", "origPath": "restfulgit/__init__.py", "lineNum": 981}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    extension = (TGZ_EXTENSION if ZLIB_SUPPORT else TAR_EXTENSION)", "origPath": "restfulgit/__init__.py", "lineNum": 982}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    timestamp = int((datetime.utcnow() - EPOCH_START).total_seconds())  # FIX ME: use committer/author timestamp?", "origPath": "restfulgit/__init__.py", "lineNum": 983}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    temp_file = _make_temp_file(suffix=extension)", "origPath": "restfulgit/__init__.py", "lineNum": 984}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    with tarfile.open(fileobj=temp_file, mode=TARFILE_WRITE_MODE, encoding='utf-8') as tar_file:", "origPath": "restfulgit/__init__.py", "lineNum": 985}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        tar_file.pax_headers = {u'comment': commit.hex.decode('ascii')}", "origPath": "restfulgit/__init__.py", "lineNum": 986}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 987}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "        for path, filemode, obj in _walk_tree_recursively(repo, tree):", "origPath": "restfulgit/__init__.py", "lineNum": 988}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            tar_info = tarfile.TarInfo(os.path.join(wrapper_dir, path))", "origPath": "restfulgit/__init__.py", "lineNum": 989}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            tar_info.mtime = timestamp", "origPath": "restfulgit/__init__.py", "lineNum": 990}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 991}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            if obj.type == GIT_OBJ_BLOB:", "origPath": "restfulgit/__init__.py", "lineNum": 992}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                tar_info.size = obj.size", "origPath": "restfulgit/__init__.py", "lineNum": 993}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 994}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            if obj.type == GIT_OBJ_TREE:", "origPath": "restfulgit/__init__.py", "lineNum": 995}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                filemode = 0o755  # git doesn't store meaningful directory perms", "origPath": "restfulgit/__init__.py", "lineNum": 996}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            tar_info.mode = filemode", "origPath": "restfulgit/__init__.py", "lineNum": 997}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 998}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            if obj.type == GIT_OBJ_BLOB:", "origPath": "restfulgit/__init__.py", "lineNum": 999}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                tar_info.type = tarfile.REGTYPE", "origPath": "restfulgit/__init__.py", "lineNum": 1000}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                content = StringIO(obj.data)", "origPath": "restfulgit/__init__.py", "lineNum": 1001}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            elif obj.type == GIT_OBJ_TREE:", "origPath": "restfulgit/__init__.py", "lineNum": 1002}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                tar_info.type = tarfile.DIRTYPE", "origPath": "restfulgit/__init__.py", "lineNum": 1003}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                content = None", "origPath": "restfulgit/__init__.py", "lineNum": 1004}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            # FIX ME: handle submodules & symlinks", "origPath": "restfulgit/__init__.py", "lineNum": 1005}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 1006}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "            tar_file.addfile(tar_info, content)", "origPath": "restfulgit/__init__.py", "lineNum": 1007}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    temp_file.seek(0)", "origPath": "restfulgit/__init__.py", "lineNum": 1008}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "    return _send_transient_file_as_attachment(temp_file,", "origPath": "restfulgit/__init__.py", "lineNum": 1009}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                                              _archive_filename_for(repo_key, refspec=branch_or_tag_or_sha, ext=extension),", "origPath": "restfulgit/__init__.py", "lineNum": 1010}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "                                              (GZIP_MIME_TYPE if ZLIB_SUPPORT else TAR_MIME_TYPE))", "origPath": "restfulgit/__init__.py", "lineNum": 1011}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 1012}, {"commit": "13e9ff41ba4704d6ca91988f9216adeeee8c79b5", "line": "", "origPath": "restfulgit/__init__.py", "lineNum": 1013}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "@restfulgit.route('/')", "origPath": "gitapi.py", "lineNum": 1014}, {"commit": "c7a21d3255d63d02a3b10330677f6912fedf9cf0", "line": "@corsify", "origPath": "gitapi.py", "lineNum": 1015}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "@jsonify", "origPath": "api.py", "lineNum": 1016}, {"commit": "a1bd25210d697c0d3b1d89aeade6ee6f19583894", "line": "def index():  # pragma: no cover", "origPath": "gitapi.py", "lineNum": 1017}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "    links = []", "origPath": "api.py", "lineNum": 1018}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "    for rule in app.url_map.iter_rules():", "origPath": "api.py", "lineNum": 1019}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "        if str(rule).startswith(\"/repos\"):", "origPath": "api.py", "lineNum": 1020}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "            links.append(str(rule))", "origPath": "api.py", "lineNum": 1021}, {"commit": "c92de24597eff312bbdd5a70059665a2e3000590", "line": "    return links", "origPath": "api.py", "lineNum": 1022}, {"commit": "e2188037dfe456898919d76e975b6dcb610bc2f7", "line": "", "origPath": "api.py", "lineNum": 1023}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "", "origPath": "gitapi.py", "lineNum": 1024}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "app.register_blueprint(restfulgit)", "origPath": "gitapi.py", "lineNum": 1025}, {"commit": "ebaa594a5b689d1cb552e15753bcd109f60b0a10", "line": "", "origPath": "gitapi.py", "lineNum": 1026}, {"commit": "090750eec2fe5f120ad1010fc2204d06fc3ca91e", "line": "application = app", "origPath": "api.py", "lineNum": 1027}]}